import{_ as i,c as a,o as n,ag as t}from"./chunks/framework.UpazuZ_L.js";const g=JSON.parse('{"title":"Layer 2: Process - Quality Assurance & Testing","description":"","frontmatter":{},"headers":[],"relativePath":"layer2-people-process-engine/processes/process-testing-qa.md","filePath":"layer2-people-process-engine/processes/process-testing-qa.md"}'),e={name:"layer2-people-process-engine/processes/process-testing-qa.md"};function l(p,s,h,k,r,o){return n(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="layer-2-process-quality-assurance-testing" tabindex="-1">Layer 2: Process - Quality Assurance &amp; Testing <a class="header-anchor" href="#layer-2-process-quality-assurance-testing" aria-label="Permalink to &quot;Layer 2: Process - Quality Assurance &amp; Testing&quot;">​</a></h1><p><strong>Process Category:</strong> Service Delivery &amp; Operations <strong>Maturity Level:</strong> Essential (Minimum for production services) <strong>Implementation Time:</strong> 18-24 months <strong>Investment:</strong> $2-5M over 5 years (varies by scale) <strong>Last Updated:</strong> 2025-11-12</p><hr><h2 id="executive-summary" tabindex="-1">Executive Summary <a class="header-anchor" href="#executive-summary" aria-label="Permalink to &quot;Executive Summary&quot;">​</a></h2><h3 id="why-testing-matters" tabindex="-1">Why Testing Matters <a class="header-anchor" href="#why-testing-matters" aria-label="Permalink to &quot;Why Testing Matters&quot;">​</a></h3><p>Government digital services are critical infrastructure. When a passport application system fails, citizens cannot travel. When a benefits portal is inaccessible, vulnerable populations lose support. When a tax filing system has security vulnerabilities, millions of records are at risk.</p><p><strong>The Stakes:</strong></p><ul><li><strong>Healthcare.gov (2013):</strong> Poor testing led to launch failure, $500M+ in fixes, public trust erosion</li><li><strong>UK Child Support System (2012):</strong> Inadequate testing caused £55M overpayments, service delays</li><li><strong>Australian Census (2016):</strong> Load testing failures led to 40-hour outage, public backlash</li><li><strong>Equifax Breach (2017):</strong> Unpatched vulnerability (could have been caught by security testing) exposed 147M records</li></ul><h3 id="the-economics-of-quality" tabindex="-1">The Economics of Quality <a class="header-anchor" href="#the-economics-of-quality" aria-label="Permalink to &quot;The Economics of Quality&quot;">​</a></h3><p>The cost ratio of fixing defects by phase:</p><ul><li><strong>Development:</strong> $100 to fix</li><li><strong>Testing:</strong> $1,000 to fix (10x)</li><li><strong>Production:</strong> $10,000 to fix (100x)</li></ul><p><strong>Investment vs. Return:</strong></p><ul><li><strong>Testing Investment:</strong> $2-5M over 5 years (3-5% of digital transformation budget)</li><li><strong>Prevented Costs:</strong> $20-50M in production failures, security breaches, accessibility lawsuits</li><li><strong>ROI:</strong> 4-10x return on investment</li></ul><h3 id="the-testing-pyramid-strategy" tabindex="-1">The Testing Pyramid Strategy <a class="header-anchor" href="#the-testing-pyramid-strategy" aria-label="Permalink to &quot;The Testing Pyramid Strategy&quot;">​</a></h3><p>Modern testing follows a pyramid approach to optimize speed, cost, and coverage:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>                    /\\</span></span>
<span class="line"><span>                   /  \\</span></span>
<span class="line"><span>                  / E2E \\          10% - End-to-End Tests</span></span>
<span class="line"><span>                 /------\\          (Slow, expensive, brittle)</span></span>
<span class="line"><span>                /        \\</span></span>
<span class="line"><span>               /Integration\\       20% - Integration Tests</span></span>
<span class="line"><span>              /------------\\       (Medium speed, API contracts)</span></span>
<span class="line"><span>             /              \\</span></span>
<span class="line"><span>            /   Unit Tests   \\     70% - Unit Tests</span></span>
<span class="line"><span>           /------------------\\    (Fast, cheap, stable)</span></span>
<span class="line"><span>          /____________________\\</span></span></code></pre></div><p><strong>Why This Works:</strong></p><ul><li><strong>Fast Feedback:</strong> 70% of tests run in seconds (unit tests)</li><li><strong>Cost Efficiency:</strong> Unit tests are 100x faster to write and maintain than E2E</li><li><strong>Stability:</strong> Fewer E2E tests means fewer flaky tests</li><li><strong>Coverage:</strong> High coverage at unit level catches 80% of bugs early</li></ul><h3 id="investment-breakdown-5-year-total" tabindex="-1">Investment Breakdown (5-Year Total) <a class="header-anchor" href="#investment-breakdown-5-year-total" aria-label="Permalink to &quot;Investment Breakdown (5-Year Total)&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Category</th><th>Investment</th><th>Percentage</th></tr></thead><tbody><tr><td><strong>Test Automation Tools</strong></td><td>$500K-1M</td><td>20%</td></tr><tr><td><strong>CI/CD Integration</strong></td><td>$300K-500K</td><td>10%</td></tr><tr><td><strong>Security Testing</strong></td><td>$800K-1.5M</td><td>30%</td></tr><tr><td><strong>Performance Testing</strong></td><td>$400K-700K</td><td>15%</td></tr><tr><td><strong>QA Team Salaries</strong></td><td>$800K-1.5M</td><td>30%</td></tr><tr><td><strong>Training &amp; Upskilling</strong></td><td>$200K-300K</td><td>5%</td></tr></tbody></table><h3 id="key-outcomes" tabindex="-1">Key Outcomes <a class="header-anchor" href="#key-outcomes" aria-label="Permalink to &quot;Key Outcomes&quot;">​</a></h3><p><strong>Year 1:</strong></p><ul><li>70% test automation coverage</li><li>CI/CD pipeline with automated testing</li><li>WCAG 2.1 AA accessibility compliance</li></ul><p><strong>Year 3:</strong></p><ul><li>85% test automation coverage</li><li>Security testing integrated (SAST/DAST/SCA)</li><li>Performance testing automated</li></ul><p><strong>Year 5:</strong></p><ul><li>90%+ test automation coverage</li><li>Testing in production (chaos engineering)</li><li>Autonomous testing capabilities</li></ul><hr><h2 id="testing-strategy-philosophy" tabindex="-1">Testing Strategy &amp; Philosophy <a class="header-anchor" href="#testing-strategy-philosophy" aria-label="Permalink to &quot;Testing Strategy &amp; Philosophy&quot;">​</a></h2><h3 id="shift-left-testing" tabindex="-1">Shift-Left Testing <a class="header-anchor" href="#shift-left-testing" aria-label="Permalink to &quot;Shift-Left Testing&quot;">​</a></h3><p><strong>Traditional Approach (Waterfall):</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Requirements → Design → Development → Testing → Deployment</span></span>
<span class="line"><span>                                        ^ Testing happens late</span></span></code></pre></div><p><strong>Shift-Left Approach (Agile):</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Requirements + Tests → Design + Tests → Development + Tests → CI/CD → Production</span></span>
<span class="line"><span>^ Testing starts early and continues throughout</span></span></code></pre></div><p><strong>Benefits of Shift-Left:</strong></p><ol><li><strong>Earlier Defect Detection:</strong> Find bugs in hours/days vs. weeks/months</li><li><strong>Lower Fix Costs:</strong> 100x cheaper to fix during development</li><li><strong>Better Requirements:</strong> Writing tests clarifies ambiguous requirements</li><li><strong>Developer Ownership:</strong> Developers write and own quality</li></ol><p><strong>Implementation:</strong></p><ul><li><strong>Test-Driven Development (TDD):</strong> Write tests before code</li><li><strong>Behavior-Driven Development (BDD):</strong> Write tests in plain language (Given/When/Then)</li><li><strong>Continuous Testing:</strong> Tests run automatically on every commit</li><li><strong>Quality Gates:</strong> Deployments blocked if tests fail</li></ul><h3 id="testing-in-production" tabindex="-1">Testing in Production <a class="header-anchor" href="#testing-in-production" aria-label="Permalink to &quot;Testing in Production&quot;">​</a></h3><p>Modern digital services test in production safely using:</p><p><strong>1. Feature Flags (Dark Launches)</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>if (featureFlag.isEnabled(&quot;new-passport-flow&quot;, user)) {</span></span>
<span class="line"><span>  return newPassportApplication();</span></span>
<span class="line"><span>} else {</span></span>
<span class="line"><span>  return oldPassportApplication();</span></span>
<span class="line"><span>}</span></span></code></pre></div><ul><li>Roll out to 1% of users, monitor metrics, gradually increase</li><li>Instant rollback if issues detected</li><li>A/B testing for UX optimization</li></ul><p><strong>2. Canary Deployments</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Load Balancer</span></span>
<span class="line"><span>├── New Version (10% traffic) ← Monitor closely</span></span>
<span class="line"><span>└── Old Version (90% traffic) ← Safe fallback</span></span></code></pre></div><ul><li>Deploy to small percentage of servers</li><li>Monitor error rates, performance, user satisfaction</li><li>Automatic rollback if metrics degrade</li></ul><p><strong>3. Chaos Engineering</strong></p><ul><li>Inject failures intentionally (kill servers, slow down databases)</li><li>Validate resilience and failover</li><li>Practice incident response</li></ul><p><strong>Tools:</strong> LaunchDarkly (feature flags), Spinnaker (canary), Chaos Monkey (Netflix)</p><h3 id="risk-based-testing-prioritization" tabindex="-1">Risk-Based Testing Prioritization <a class="header-anchor" href="#risk-based-testing-prioritization" aria-label="Permalink to &quot;Risk-Based Testing Prioritization&quot;">​</a></h3><p>Not all features require equal testing investment. Prioritize based on:</p><p><strong>Risk Matrix:</strong></p><table tabindex="0"><thead><tr><th>Risk Level</th><th>Testing Investment</th><th>Examples</th></tr></thead><tbody><tr><td><strong>Critical</strong></td><td>95%+ coverage, manual testing, penetration testing</td><td>Payment processing, identity verification, benefits eligibility</td></tr><tr><td><strong>High</strong></td><td>85%+ coverage, automated security scanning</td><td>Passport applications, tax filing, license renewals</td></tr><tr><td><strong>Medium</strong></td><td>70%+ coverage, standard automation</td><td>Informational pages, appointment booking</td></tr><tr><td><strong>Low</strong></td><td>50%+ coverage, basic automation</td><td>Marketing pages, contact forms</td></tr></tbody></table><p><strong>Risk Factors:</strong></p><ul><li><strong>Impact:</strong> How many users affected? What&#39;s the consequence of failure?</li><li><strong>Likelihood:</strong> How complex is the code? How often does it change?</li><li><strong>Regulatory:</strong> Are there legal/compliance requirements?</li><li><strong>Security:</strong> Does it handle PII, payments, or authentication?</li></ul><hr><h2 id="test-automation-strategy" tabindex="-1">Test Automation Strategy <a class="header-anchor" href="#test-automation-strategy" aria-label="Permalink to &quot;Test Automation Strategy&quot;">​</a></h2><h3 id="the-testing-pyramid-in-practice" tabindex="-1">The Testing Pyramid in Practice <a class="header-anchor" href="#the-testing-pyramid-in-practice" aria-label="Permalink to &quot;The Testing Pyramid in Practice&quot;">​</a></h3><h4 id="level-1-unit-tests-70-of-tests" tabindex="-1">Level 1: Unit Tests (70% of Tests) <a class="header-anchor" href="#level-1-unit-tests-70-of-tests" aria-label="Permalink to &quot;Level 1: Unit Tests (70% of Tests)&quot;">​</a></h4><p><strong>Purpose:</strong> Test individual functions/classes in isolation</p><p><strong>Characteristics:</strong></p><ul><li>Fast (milliseconds per test)</li><li>Deterministic (no flakiness)</li><li>High coverage (80-90% of code)</li></ul><p><strong>Example (Tax Calculator):</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// tax-calculator.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> calculateTax</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">income</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">deductions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (income </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Income cannot be negative&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> taxableIncome</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, income </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> deductions);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (taxableIncome </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 50000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> taxableIncome </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.15</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (taxableIncome </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 7500</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (taxableIncome </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 50000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20000</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (taxableIncome </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.35</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// tax-calculator.test.js</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Tax Calculator&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;calculates basic tax correctly&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">calculateTax</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// $50k * 15%</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;handles edge cases&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">calculateTax</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">calculateTax</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;throws error for negative income&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> calculateTax</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toThrow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Income cannot be negative&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;applies deductions correctly&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">calculateTax</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// $40k * 15%</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><strong>Tools:</strong></p><ul><li><strong>JavaScript/Node.js:</strong> Jest, Mocha, Jasmine</li><li><strong>Java:</strong> JUnit 5, TestNG</li><li><strong>Python:</strong> pytest, unittest</li><li><strong>C#/.NET:</strong> xUnit, NUnit</li></ul><p><strong>Best Practices:</strong></p><ul><li>Test one thing per test (single responsibility)</li><li>Use descriptive test names (&quot;should calculate tax correctly for low income&quot;)</li><li>Mock external dependencies (databases, APIs)</li><li>Aim for 80%+ coverage on critical business logic</li></ul><h4 id="level-2-integration-tests-20-of-tests" tabindex="-1">Level 2: Integration Tests (20% of Tests) <a class="header-anchor" href="#level-2-integration-tests-20-of-tests" aria-label="Permalink to &quot;Level 2: Integration Tests (20% of Tests)&quot;">​</a></h4><p><strong>Purpose:</strong> Test interactions between components (API contracts, database queries, message queues)</p><p><strong>Characteristics:</strong></p><ul><li>Medium speed (seconds per test)</li><li>Test real integrations (databases, APIs)</li><li>Validate contracts and data flow</li></ul><p><strong>Example (Passport Application API):</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// passport-api.integration.test.js</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Passport Application API&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> testDb;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  beforeAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    testDb </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setupTestDatabase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  afterAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> teardownTestDatabase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(testDb);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;POST /applications creates application and returns ID&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(app)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/api/applications&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        firstName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Jane&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        lastName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Smith&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        dateOfBirth: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1985-06-15&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        citizenshipNumber: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123456789&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">201</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response.body.applicationId).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBeDefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Verify in database</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> application</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> testDb.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;SELECT * FROM applications WHERE id = ?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [response.body.applicationId]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(application.status).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SUBMITTED&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GET /applications/:id returns application details&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> appId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createTestApplication</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(testDb);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(app)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`/api/applications/\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">appId</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response.body.firstName).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Jane&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response.body.status).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SUBMITTED&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PUT /applications/:id/status updates status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> appId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createTestApplication</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(testDb);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(app)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">put</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`/api/applications/\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">appId</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/status\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ status: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;APPROVED&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Verify status updated</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> application</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> testDb.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;SELECT status FROM applications WHERE id = ?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [appId]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(application.status).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;APPROVED&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><strong>Tools:</strong></p><ul><li><strong>API Testing:</strong> Postman/Newman, REST-assured, SuperTest</li><li><strong>Database Testing:</strong> Testcontainers, in-memory databases (H2, SQLite)</li><li><strong>Message Queue Testing:</strong> Embedded Kafka, RabbitMQ test containers</li></ul><p><strong>Best Practices:</strong></p><ul><li>Use test databases (Docker containers, in-memory DBs)</li><li>Clean up test data after each test</li><li>Test API contracts (request/response schemas)</li><li>Validate error handling (400, 401, 403, 404, 500 responses)</li></ul><h4 id="level-3-end-to-end-tests-10-of-tests" tabindex="-1">Level 3: End-to-End Tests (10% of Tests) <a class="header-anchor" href="#level-3-end-to-end-tests-10-of-tests" aria-label="Permalink to &quot;Level 3: End-to-End Tests (10% of Tests)&quot;">​</a></h4><p><strong>Purpose:</strong> Test critical user journeys through the full system</p><p><strong>Characteristics:</strong></p><ul><li>Slow (seconds to minutes per test)</li><li>Test in browser (real user interactions)</li><li>High maintenance cost (brittle)</li></ul><p><strong>Example (Passport Application E2E):</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// passport-application.e2e.test.js</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Passport Application Journey&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;citizen can submit passport application&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Navigate to application page</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">goto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://services.gov.example/passport&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Fill out form</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#firstName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Jane&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#lastName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Smith&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#dateOfBirth&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1985-06-15&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#citizenshipNumber&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123456789&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Upload photo</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setInputFiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#photo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test-photo.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Submit form</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#submitButton&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Verify success</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">locator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;.success-message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toContainText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;Application submitted successfully&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Verify confirmation number displayed</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> confirmationNumber</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">textContent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#confirmationNumber&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(confirmationNumber).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toMatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">^</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">APP-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">{10}$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;citizen can track application status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> appId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createTestApplication</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">goto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`https://services.gov.example/passport/track\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#applicationId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, appId);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#trackButton&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">locator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;.status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toContainText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;In Review&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><strong>Tools:</strong></p><ul><li><strong>Browser Automation:</strong> Selenium WebDriver, Playwright, Cypress</li><li><strong>Mobile Testing:</strong> Appium, Detox</li><li><strong>Visual Testing:</strong> Percy, Applitools</li></ul><p><strong>Best Practices:</strong></p><ul><li>Test only critical user journeys (happy path + key error paths)</li><li>Use page object model (separate test logic from page structure)</li><li>Run on multiple browsers (Chrome, Firefox, Safari, Edge)</li><li>Parallelize tests to reduce execution time</li><li>Monitor flaky tests (quarantine and fix)</li></ul><h3 id="visual-regression-testing" tabindex="-1">Visual Regression Testing <a class="header-anchor" href="#visual-regression-testing" aria-label="Permalink to &quot;Visual Regression Testing&quot;">​</a></h3><p><strong>Purpose:</strong> Detect unintended UI changes</p><p><strong>How It Works:</strong></p><ol><li>Take baseline screenshots of all pages</li><li>On each deployment, take new screenshots</li><li>Compare pixel-by-pixel for differences</li><li>Flag changes for review</li></ol><p><strong>Example (Percy Integration):</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// visual-regression.test.js</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Visual Regression Tests&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;homepage renders correctly&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">goto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://services.gov.example&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> percySnapshot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(page, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Homepage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;passport application form renders correctly&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">goto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://services.gov.example/passport&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> percySnapshot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(page, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Passport Application Form&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><strong>Tools:</strong> Percy, Applitools, BackstopJS, Chromatic</p><h3 id="contract-testing-microservices" tabindex="-1">Contract Testing (Microservices) <a class="header-anchor" href="#contract-testing-microservices" aria-label="Permalink to &quot;Contract Testing (Microservices)&quot;">​</a></h3><p><strong>Purpose:</strong> Ensure API contracts don&#39;t break between services</p><p><strong>Consumer-Driven Contracts:</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// passport-service-consumer.pact.test.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Pact</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;@pact-foundation/pact&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Passport Service Consumer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> provider</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Pact</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    consumer: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;passport-web-app&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    provider: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;passport-api-service&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  beforeAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> provider.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  afterAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> provider.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">finalize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gets application status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> provider.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addInteraction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      state: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;application exists&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      uponReceiving: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a request for application status&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      withRequest: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        method: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GET&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/api/applications/APP-1234567890&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      willRespondWith: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        status: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        body: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          applicationId: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;APP-1234567890&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          status: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SUBMITTED&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          submittedDate: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2025-01-15&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getApplicationStatus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;APP-1234567890&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response.status).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SUBMITTED&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><strong>Tools:</strong> Pact, Spring Cloud Contract</p><hr><h2 id="security-testing" tabindex="-1">Security Testing <a class="header-anchor" href="#security-testing" aria-label="Permalink to &quot;Security Testing&quot;">​</a></h2><p>Security testing must be integrated into every stage of development, not bolted on at the end.</p><h3 id="static-application-security-testing-sast" tabindex="-1">Static Application Security Testing (SAST) <a class="header-anchor" href="#static-application-security-testing-sast" aria-label="Permalink to &quot;Static Application Security Testing (SAST)&quot;">​</a></h3><p><strong>Purpose:</strong> Analyze source code for security vulnerabilities (SQL injection, XSS, hardcoded secrets)</p><p><strong>How It Works:</strong></p><ul><li>Scans code without executing it</li><li>Identifies patterns that indicate vulnerabilities</li><li>Runs in CI/CD pipeline on every commit</li></ul><p><strong>Common Vulnerabilities Detected:</strong></p><ul><li>SQL Injection</li><li>Cross-Site Scripting (XSS)</li><li>Hardcoded credentials</li><li>Insecure cryptography</li><li>Path traversal</li><li>Command injection</li></ul><p><strong>Example (SonarQube Integration):</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .gitlab-ci.yml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">security-scan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sonar-scanner \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        -Dsonar.projectKey=passport-service \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        -Dsonar.sources=src \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        -Dsonar.host.url=$SONAR_HOST \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        -Dsonar.login=$SONAR_TOKEN</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  rules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$CI_PIPELINE_SOURCE == &quot;merge_request_event&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$CI_COMMIT_BRANCH == &quot;main&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  allow_failure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Block deployment if critical issues found</span></span></code></pre></div><p><strong>Quality Gates:</strong></p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;securityHotspots&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;vulnerabilities&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;critical&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;high&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;medium&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Allow up to 5 medium</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;low&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     // Allow up to 20 low</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;codeSmells&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;critical&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;high&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Tools:</strong></p><ul><li><strong>SonarQube:</strong> Multi-language, open-source, integrates with CI/CD</li><li><strong>Checkmarx:</strong> Enterprise SAST, compliance reporting</li><li><strong>Fortify:</strong> HP enterprise tool, government-approved</li><li><strong>Semgrep:</strong> Fast, customizable rules, open-source</li></ul><h3 id="dynamic-application-security-testing-dast" tabindex="-1">Dynamic Application Security Testing (DAST) <a class="header-anchor" href="#dynamic-application-security-testing-dast" aria-label="Permalink to &quot;Dynamic Application Security Testing (DAST)&quot;">​</a></h3><p><strong>Purpose:</strong> Test running application for vulnerabilities (like a hacker would)</p><p><strong>How It Works:</strong></p><ul><li>Runs against deployed application</li><li>Sends malicious payloads to find vulnerabilities</li><li>Tests authentication, authorization, session management</li></ul><p><strong>Common Vulnerabilities Detected:</strong></p><ul><li>Broken authentication</li><li>Sensitive data exposure</li><li>XML External Entities (XXE)</li><li>Broken access control</li><li>Security misconfigurations</li></ul><p><strong>Example (OWASP ZAP Integration):</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .gitlab-ci.yml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dast-scan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">security-testing</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Start application in test environment</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">docker-compose up -d</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Run OWASP ZAP scan</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">docker run --network=host owasp/zap2docker-stable zap-baseline.py \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        -t https://test.services.gov.example \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        -r zap-report.html \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        -J zap-report.json</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Parse results and fail if critical issues found</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">python check-zap-results.py zap-report.json</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  artifacts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    paths</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">zap-report.html</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    when</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">always</span></span></code></pre></div><p><strong>Tools:</strong></p><ul><li><strong>OWASP ZAP:</strong> Open-source, automated scanning, CI/CD integration</li><li><strong>Burp Suite:</strong> Popular pentesting tool, manual + automated</li><li><strong>Acunetix:</strong> Enterprise DAST, compliance reporting</li><li><strong>Netsparker:</strong> Automated DAST, low false positives</li></ul><h3 id="software-composition-analysis-sca" tabindex="-1">Software Composition Analysis (SCA) <a class="header-anchor" href="#software-composition-analysis-sca" aria-label="Permalink to &quot;Software Composition Analysis (SCA)&quot;">​</a></h3><p><strong>Purpose:</strong> Identify vulnerabilities in third-party dependencies</p><p><strong>Why This Matters:</strong></p><ul><li>Modern apps are 80-90% third-party code (libraries, frameworks)</li><li>Log4Shell (2021) affected millions of Java applications</li><li>Left-pad incident (2016) broke thousands of npm packages</li></ul><p><strong>Example (Snyk Integration):</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .gitlab-ci.yml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependency-scan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">snyk test --severity-threshold=high</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">snyk monitor</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Send results to Snyk dashboard</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  allow_failure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Block deployment if high/critical vulns found</span></span></code></pre></div><p><strong>Automatic Dependency Updates:</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># renovate.json (Renovate Bot configuration)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;extends&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;config:base&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;vulnerabilityAlerts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;enabled&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;schedule&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;at any time&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;packageRules&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;matchUpdateTypes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;patch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;digest&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;automerge&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;matchUpdateTypes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;minor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;automerge&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;matchPackagePatterns&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;matchDepTypes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Tools:</strong></p><ul><li><strong>Snyk:</strong> Developer-friendly, accurate results, auto-fix PRs</li><li><strong>Dependabot:</strong> GitHub native, automatic PRs</li><li><strong>WhiteSource:</strong> Enterprise SCA, license compliance</li><li><strong>OWASP Dependency-Check:</strong> Open-source, supports many languages</li></ul><h3 id="penetration-testing" tabindex="-1">Penetration Testing <a class="header-anchor" href="#penetration-testing" aria-label="Permalink to &quot;Penetration Testing&quot;">​</a></h3><p><strong>Purpose:</strong> Real-world security assessment by ethical hackers</p><p><strong>Frequency:</strong></p><ul><li><strong>Annual:</strong> Full penetration test by third-party</li><li><strong>Quarterly:</strong> Internal security team assessment</li><li><strong>On-Demand:</strong> After major changes (new authentication, payment processing)</li></ul><p><strong>Scope:</strong></p><ol><li><p><strong>External Penetration Test:</strong></p><ul><li>Test from outside network (like an attacker)</li><li>Identify exposed services, weak configurations</li><li>Test web applications for OWASP Top 10</li><li>Duration: 2-4 weeks</li></ul></li><li><p><strong>Internal Penetration Test:</strong></p><ul><li>Test from inside network (compromised employee scenario)</li><li>Test lateral movement, privilege escalation</li><li>Test internal APIs and databases</li><li>Duration: 1-2 weeks</li></ul></li><li><p><strong>Red Team Assessment:</strong></p><ul><li>Full adversary simulation (physical + digital)</li><li>Test detection and response capabilities</li><li>Social engineering, phishing campaigns</li><li>Duration: 4-8 weeks</li></ul></li></ol><p><strong>Deliverables:</strong></p><ul><li>Executive summary (risk ratings, business impact)</li><li>Technical report (vulnerabilities, exploitation steps)</li><li>Remediation recommendations (prioritized by risk)</li><li>Retest after fixes implemented</li></ul><p><strong>Procurement:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>RFP Requirements for Penetration Testing:</span></span>
<span class="line"><span>- CREST/OSCP certified testers</span></span>
<span class="line"><span>- Government security clearance</span></span>
<span class="line"><span>- Insurance (cyber liability, professional indemnity)</span></span>
<span class="line"><span>- Clear rules of engagement</span></span>
<span class="line"><span>- NDA and data handling agreements</span></span>
<span class="line"><span>- References from similar government clients</span></span>
<span class="line"><span>- Estimated cost: $50K-150K per assessment</span></span></code></pre></div><h3 id="bug-bounty-programs" tabindex="-1">Bug Bounty Programs <a class="header-anchor" href="#bug-bounty-programs" aria-label="Permalink to &quot;Bug Bounty Programs&quot;">​</a></h3><p><strong>Purpose:</strong> Crowdsource security testing with responsible disclosure</p><p><strong>Program Structure:</strong></p><table tabindex="0"><thead><tr><th>Severity</th><th>Bounty</th><th>Examples</th></tr></thead><tbody><tr><td><strong>Critical</strong></td><td>$10,000-50,000</td><td>RCE, authentication bypass, mass data breach</td></tr><tr><td><strong>High</strong></td><td>$2,500-10,000</td><td>SQL injection, XSS with impact, IDOR</td></tr><tr><td><strong>Medium</strong></td><td>$500-2,500</td><td>CSRF, information disclosure, rate limiting bypass</td></tr><tr><td><strong>Low</strong></td><td>$100-500</td><td>Low-impact XSS, self-XSS, missing headers</td></tr></tbody></table><p><strong>Scope (In-Scope Assets):</strong></p><ul><li>*.services.gov.example</li><li>*.api.gov.example</li><li>Mobile applications (iOS, Android)</li></ul><p><strong>Scope (Out-of-Scope):</strong></p><ul><li>Internal networks (unless discovered via external service)</li><li>Social engineering, phishing, physical attacks</li><li>Denial of Service (DoS)</li><li>Known issues already reported</li><li>Low-impact issues (SPF records, SSL cipher preferences)</li></ul><p><strong>Example Program (HackerOne):</strong></p><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Government Digital Services Bug Bounty Program</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">We believe in responsible disclosure and value the security research community.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">### Rewards</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Critical: $10,000-50,000</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> High: $2,500-10,000</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Medium: $500-2,500</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Low: $100-500</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">### Rules</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Do not access or modify user data</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Do not disrupt services (no DoS attacks)</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">3.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Report vulnerabilities through HackerOne only</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">4.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Give us reasonable time to fix (90 days)</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">5.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Do not publicly disclose until resolved</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">### Safe Harbor</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">We will not pursue legal action against security researchers who:</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Follow responsible disclosure practices</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Do not access/modify user data beyond minimal PoC</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Report findings promptly</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Contact: security@gov.example</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PGP Key: [</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">link</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p><strong>Leading Government Bug Bounty Programs:</strong></p><ul><li><strong>US Department of Defense:</strong> &quot;Hack the Pentagon&quot; (2016-present)</li><li><strong>UK NCSC:</strong> Government bug bounty program</li><li><strong>Singapore GovTech:</strong> Vulnerability disclosure program</li></ul><p><strong>Platforms:</strong> HackerOne, Bugcrowd, YesWeHack</p><hr><h2 id="accessibility-testing" tabindex="-1">Accessibility Testing <a class="header-anchor" href="#accessibility-testing" aria-label="Permalink to &quot;Accessibility Testing&quot;">​</a></h2><p>Government digital services must be accessible to all citizens, including those with disabilities. This is both a legal requirement and moral obligation.</p><h3 id="legal-requirements" tabindex="-1">Legal Requirements <a class="header-anchor" href="#legal-requirements" aria-label="Permalink to &quot;Legal Requirements&quot;">​</a></h3><p><strong>International Standards:</strong></p><ul><li><strong>WCAG 2.1 Level AA</strong> (minimum for government services)</li><li><strong>WCAG 2.2 Level AA</strong> (recommended, includes mobile improvements)</li><li><strong>EN 301 549</strong> (European standard)</li><li><strong>Section 508</strong> (US federal standard)</li></ul><p><strong>Penalties for Non-Compliance:</strong></p><ul><li><strong>US:</strong> ADA lawsuits ($55,000-75,000 settlements typical)</li><li><strong>EU:</strong> Up to 4% of annual revenue (GDPR-style enforcement)</li><li><strong>Reputation damage:</strong> Public backlash, media coverage</li></ul><h3 id="wcag-2-1-level-aa-compliance" tabindex="-1">WCAG 2.1 Level AA Compliance <a class="header-anchor" href="#wcag-2-1-level-aa-compliance" aria-label="Permalink to &quot;WCAG 2.1 Level AA Compliance&quot;">​</a></h3><p><strong>Four Principles (POUR):</strong></p><ol><li><p><strong>Perceivable</strong> - Information must be presentable to all users</p><ul><li>Text alternatives for images (alt text)</li><li>Captions for videos</li><li>Color contrast (4.5:1 for normal text, 3:1 for large text)</li><li>Content not solely conveyed through color</li></ul></li><li><p><strong>Operable</strong> - UI components must be operable by all users</p><ul><li>Keyboard accessible (no mouse required)</li><li>Sufficient time to read/complete tasks</li><li>No flashing content (seizure risk)</li><li>Clear navigation and focus indicators</li></ul></li><li><p><strong>Understandable</strong> - Information must be understandable</p><ul><li>Readable language (Grade 8 reading level or below)</li><li>Predictable navigation</li><li>Input assistance (error identification, suggestions)</li><li>Consistent design patterns</li></ul></li><li><p><strong>Robust</strong> - Content must work with assistive technologies</p><ul><li>Valid HTML (semantic markup)</li><li>ARIA labels where needed</li><li>Compatible with screen readers, magnifiers, voice control</li></ul></li></ol><h3 id="automated-accessibility-testing" tabindex="-1">Automated Accessibility Testing <a class="header-anchor" href="#automated-accessibility-testing" aria-label="Permalink to &quot;Automated Accessibility Testing&quot;">​</a></h3><p><strong>Example (axe-core Integration):</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// accessibility.test.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AxePuppeteer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;@axe-core/puppeteer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Accessibility Tests&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;homepage has no accessibility violations&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">goto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://services.gov.example&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> results</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AxePuppeteer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(page)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">withTags</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;wcag2a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;wcag2aa&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;wcag21aa&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">analyze</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(results.violations).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toHaveLength</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // If violations found, log details</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (results.violations.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Accessibility violations found:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      results.violations.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">violation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`- \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">violation</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}: \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">violation</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">description</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`  Impact: \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">violation</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">impact</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`  Nodes: \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">violation</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nodes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;passport application form is accessible&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">goto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://services.gov.example/passport&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> results</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AxePuppeteer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(page).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">analyze</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Allow specific exceptions if justified</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> criticalViolations</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> results.violations.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">      v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v.impact </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;critical&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v.impact </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;serious&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(criticalViolations).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toHaveLength</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><strong>CI/CD Integration:</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .gitlab-ci.yml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">accessibility-scan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm run test:accessibility</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm run lighthouse -- --only-categories=accessibility --chrome-flags=&quot;--headless&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  artifacts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    paths</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lighthouse-report.html</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    when</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">always</span></span></code></pre></div><p><strong>Tools:</strong></p><ul><li><strong>axe DevTools:</strong> Browser extension, CLI, CI/CD integration</li><li><strong>WAVE:</strong> Web accessibility evaluation tool</li><li><strong>Lighthouse:</strong> Google&#39;s accessibility auditing tool (built into Chrome DevTools)</li><li><strong>Pa11y:</strong> Automated testing, CI/CD friendly</li></ul><h3 id="manual-accessibility-testing" tabindex="-1">Manual Accessibility Testing <a class="header-anchor" href="#manual-accessibility-testing" aria-label="Permalink to &quot;Manual Accessibility Testing&quot;">​</a></h3><p><strong>Automated testing catches only 30-40% of accessibility issues.</strong> Manual testing is essential.</p><h4 id="keyboard-navigation-testing" tabindex="-1">Keyboard Navigation Testing <a class="header-anchor" href="#keyboard-navigation-testing" aria-label="Permalink to &quot;Keyboard Navigation Testing&quot;">​</a></h4><p><strong>Test Checklist:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Keyboard Navigation Test Script:</span></span>
<span class="line"><span>1. [ ] Tab through all interactive elements (links, buttons, form fields)</span></span>
<span class="line"><span>2. [ ] Verify focus indicator visible at all times</span></span>
<span class="line"><span>3. [ ] Shift+Tab to navigate backwards</span></span>
<span class="line"><span>4. [ ] Enter/Space to activate buttons and links</span></span>
<span class="line"><span>5. [ ] Arrow keys to navigate select dropdowns, radio buttons</span></span>
<span class="line"><span>6. [ ] Escape to close modals and dropdowns</span></span>
<span class="line"><span>7. [ ] Skip links work (&quot;Skip to main content&quot;)</span></span>
<span class="line"><span>8. [ ] No keyboard traps (can always escape focus)</span></span>
<span class="line"><span>9. [ ] Tab order is logical (follows visual flow)</span></span></code></pre></div><h4 id="screen-reader-testing" tabindex="-1">Screen Reader Testing <a class="header-anchor" href="#screen-reader-testing" aria-label="Permalink to &quot;Screen Reader Testing&quot;">​</a></h4><p><strong>Test with Multiple Screen Readers:</strong></p><table tabindex="0"><thead><tr><th>Screen Reader</th><th>Operating System</th><th>Browser</th><th>Market Share</th></tr></thead><tbody><tr><td><strong>JAWS</strong></td><td>Windows</td><td>Chrome, Firefox, Edge</td><td>40%</td></tr><tr><td><strong>NVDA</strong></td><td>Windows</td><td>Chrome, Firefox</td><td>30%</td></tr><tr><td><strong>VoiceOver</strong></td><td>macOS, iOS</td><td>Safari</td><td>20%</td></tr><tr><td><strong>TalkBack</strong></td><td>Android</td><td>Chrome</td><td>10%</td></tr></tbody></table><p><strong>Example Test Script:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Screen Reader Test Script (NVDA + Chrome):</span></span>
<span class="line"><span>1. Turn on NVDA (Insert+Ctrl+N)</span></span>
<span class="line"><span>2. Navigate to homepage</span></span>
<span class="line"><span>3. [ ] Page title announced correctly</span></span>
<span class="line"><span>4. [ ] Landmarks announced (header, nav, main, footer)</span></span>
<span class="line"><span>5. [ ] Headings hierarchy logical (H1, H2, H3)</span></span>
<span class="line"><span>6. [ ] Links descriptive (not &quot;click here&quot;)</span></span>
<span class="line"><span>7. [ ] Images have alt text</span></span>
<span class="line"><span>8. [ ] Form fields have labels</span></span>
<span class="line"><span>9. [ ] Error messages announced</span></span>
<span class="line"><span>10. [ ] Dynamic content changes announced (ARIA live regions)</span></span></code></pre></div><p><strong>Common Issues Found:</strong></p><ul><li>Missing form labels (&quot;First name&quot; label not associated with input)</li><li>Non-descriptive links (&quot;Click here&quot; instead of &quot;Apply for passport&quot;)</li><li>Images missing alt text</li><li>Headings out of order (H1 → H3, skipping H2)</li><li>Focus not visible (invisible :focus outline)</li><li>Dynamic content not announced (form errors, loading states)</li></ul><h4 id="color-contrast-validation" tabindex="-1">Color Contrast Validation <a class="header-anchor" href="#color-contrast-validation" aria-label="Permalink to &quot;Color Contrast Validation&quot;">​</a></h4><p><strong>WCAG 2.1 Requirements:</strong></p><ul><li><strong>Normal Text:</strong> 4.5:1 contrast ratio (14pt or smaller)</li><li><strong>Large Text:</strong> 3:1 contrast ratio (18pt or 14pt bold)</li><li><strong>UI Components:</strong> 3:1 contrast ratio (buttons, form borders)</li></ul><p><strong>Example Test:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Color Contrast Test (Chrome DevTools):</span></span>
<span class="line"><span>1. Open DevTools → Elements</span></span>
<span class="line"><span>2. Select text element</span></span>
<span class="line"><span>3. View Computed → Accessibility</span></span>
<span class="line"><span>4. Check &quot;Contrast ratio&quot; (should show ✓ or ✗)</span></span>
<span class="line"><span>5. If fail, adjust color until ratio meets WCAG 2.1 AA</span></span></code></pre></div><p><strong>Tools:</strong></p><ul><li><strong>Chrome DevTools:</strong> Built-in contrast checker</li><li><strong>Colour Contrast Analyser:</strong> Desktop app (Windows, macOS)</li><li><strong>WebAIM Contrast Checker:</strong> Online tool</li></ul><h4 id="cognitive-load-testing" tabindex="-1">Cognitive Load Testing <a class="header-anchor" href="#cognitive-load-testing" aria-label="Permalink to &quot;Cognitive Load Testing&quot;">​</a></h4><p><strong>Test for Simplicity:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Cognitive Load Test Checklist:</span></span>
<span class="line"><span>1. [ ] Language is Grade 8 level or below (Flesch-Kincaid)</span></span>
<span class="line"><span>2. [ ] Sentences are short (&lt;20 words average)</span></span>
<span class="line"><span>3. [ ] Paragraphs are short (3-4 sentences max)</span></span>
<span class="line"><span>4. [ ] Headings clearly describe sections</span></span>
<span class="line"><span>5. [ ] Lists used instead of long paragraphs</span></span>
<span class="line"><span>6. [ ] Visual hierarchy clear (headings, spacing, emphasis)</span></span>
<span class="line"><span>7. [ ] Forms have clear instructions</span></span>
<span class="line"><span>8. [ ] Error messages are plain language, actionable</span></span>
<span class="line"><span>9. [ ] Progress indicators for multi-step processes</span></span>
<span class="line"><span>10. [ ] No jargon or acronyms (or explained)</span></span></code></pre></div><p><strong>Tools:</strong></p><ul><li><strong>Hemingway Editor:</strong> Readability scoring</li><li><strong>Flesch-Kincaid Grade Level:</strong> Built into Word, online tools</li><li><strong>SMOG Index:</strong> Alternative readability metric</li></ul><h3 id="real-users-with-disabilities-testing" tabindex="-1">Real Users with Disabilities Testing <a class="header-anchor" href="#real-users-with-disabilities-testing" aria-label="Permalink to &quot;Real Users with Disabilities Testing&quot;">​</a></h3><p><strong>The Gold Standard:</strong> Test with actual users who rely on assistive technologies.</p><p><strong>Recruiting Participants:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>User Testing Recruitment (Accessibility):</span></span>
<span class="line"><span>- Recruit 8-10 participants with disabilities</span></span>
<span class="line"><span>- Mix of disabilities (blind, low vision, motor, cognitive)</span></span>
<span class="line"><span>- Mix of assistive technologies (screen readers, magnifiers, voice control)</span></span>
<span class="line"><span>- Compensation: $100-200 per 1-hour session</span></span>
<span class="line"><span>- Accessibility requirements: closed captions, accessible docs, flexible scheduling</span></span></code></pre></div><p><strong>Test Protocol:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Accessibility User Test Script:</span></span>
<span class="line"><span>1. Introduction (5 minutes)</span></span>
<span class="line"><span>   - Explain purpose, consent, compensation</span></span>
<span class="line"><span>   - Ask about assistive technology used</span></span>
<span class="line"><span></span></span>
<span class="line"><span>2. Task 1: Find passport application (5 minutes)</span></span>
<span class="line"><span>   - Start from homepage</span></span>
<span class="line"><span>   - Observe navigation strategy</span></span>
<span class="line"><span>   - Note pain points</span></span>
<span class="line"><span></span></span>
<span class="line"><span>3. Task 2: Fill out application form (15 minutes)</span></span>
<span class="line"><span>   - Complete form fields</span></span>
<span class="line"><span>   - Upload document</span></span>
<span class="line"><span>   - Note error recovery</span></span>
<span class="line"><span></span></span>
<span class="line"><span>4. Task 3: Track application status (5 minutes)</span></span>
<span class="line"><span>   - Enter confirmation number</span></span>
<span class="line"><span>   - View status</span></span>
<span class="line"><span></span></span>
<span class="line"><span>5. Debrief (10 minutes)</span></span>
<span class="line"><span>   - What worked well?</span></span>
<span class="line"><span>   - What was frustrating?</span></span>
<span class="line"><span>   - Suggestions for improvement?</span></span></code></pre></div><p><strong>Common Findings:</strong></p><ul><li>Forms too complex (too many fields, unclear labels)</li><li>Error messages not clear or not associated with fields</li><li>Focus management issues (focus lost after modal closes)</li><li>Dynamic content not announced (loading states)</li><li>Touch targets too small (mobile)</li></ul><hr><h2 id="performance-load-testing" tabindex="-1">Performance &amp; Load Testing <a class="header-anchor" href="#performance-load-testing" aria-label="Permalink to &quot;Performance &amp; Load Testing&quot;">​</a></h2><p>Slow services frustrate users and reduce digital adoption. Performance must be treated as a feature, not an afterthought.</p><h3 id="performance-budgets" tabindex="-1">Performance Budgets <a class="header-anchor" href="#performance-budgets" aria-label="Permalink to &quot;Performance Budgets&quot;">​</a></h3><p><strong>Define Performance Targets:</strong></p><table tabindex="0"><thead><tr><th>Metric</th><th>Target</th><th>Measurement</th></tr></thead><tbody><tr><td><strong>First Contentful Paint (FCP)</strong></td><td>&lt;1.8s</td><td>When first text/image appears</td></tr><tr><td><strong>Largest Contentful Paint (LCP)</strong></td><td>&lt;2.5s</td><td>When main content is visible</td></tr><tr><td><strong>First Input Delay (FID)</strong></td><td>&lt;100ms</td><td>Time until page responds to interaction</td></tr><tr><td><strong>Cumulative Layout Shift (CLS)</strong></td><td>&lt;0.1</td><td>Visual stability (no unexpected shifts)</td></tr><tr><td><strong>Time to Interactive (TTI)</strong></td><td>❤️.8s</td><td>When page is fully interactive</td></tr><tr><td><strong>Total Page Weight</strong></td><td>&lt;2MB</td><td>Size of all resources</td></tr><tr><td><strong>JavaScript Bundle Size</strong></td><td>&lt;500KB</td><td>Size of JS files</td></tr></tbody></table><p><strong>Enforcement:</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .gitlab-ci.yml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">performance-budget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Run Lighthouse performance audit</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lighthouse https://test.services.gov.example \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        --output=json \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        --output-path=lighthouse-report.json \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        --chrome-flags=&quot;--headless&quot; \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        --preset=desktop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Check against budget</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">node check-performance-budget.js</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  artifacts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    paths</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lighthouse-report.json</span></span></code></pre></div><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// check-performance-budget.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> report</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./lighthouse-report.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> budgets</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;first-contentful-paint&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1800</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;largest-contentful-paint&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;first-input-delay&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;cumulative-layout-shift&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;total-page-weight&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// KB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> metrics</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> report.audits;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> failed </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">entries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(budgets).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(([</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">metric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">budget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> actual</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> metrics[metric].numericValue;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (actual </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> budget) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`❌ \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metric</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}: \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">actual</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} exceeds budget \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">budget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    failed </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`✅ \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">metric</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}: \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">actual</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} within budget \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">budget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (failed) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  process.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="load-testing" tabindex="-1">Load Testing <a class="header-anchor" href="#load-testing" aria-label="Permalink to &quot;Load Testing&quot;">​</a></h3><p><strong>Purpose:</strong> Validate system can handle expected traffic (and 10x expected traffic)</p><p><strong>Load Testing Pyramid:</strong></p><ol><li><p><strong>Baseline Load Test</strong> (Expected Load)</p><ul><li>Simulate typical traffic (e.g., 1,000 concurrent users)</li><li>Duration: 30 minutes</li><li>Verify response times, error rates</li></ul></li><li><p><strong>Stress Test</strong> (Find Breaking Point)</p><ul><li>Gradually increase load until system fails</li><li>Identify bottlenecks (database, CPU, memory)</li><li>Determine maximum capacity</li></ul></li><li><p><strong>Spike Test</strong> (Handle Traffic Surges)</p><ul><li>Sudden increase in traffic (e.g., 10x normal)</li><li>Common during tax season, enrollment periods</li><li>Test auto-scaling, rate limiting</li></ul></li><li><p><strong>Endurance Test</strong> (Sustained Load)</p><ul><li>Run at expected load for 24+ hours</li><li>Identify memory leaks, degradation over time</li><li>Validate monitoring and alerting</li></ul></li></ol><p><strong>Example (k6 Load Test):</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// load-test-passport-application.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> http </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;k6/http&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { check, sleep } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;k6&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Rate } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;k6/metrics&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> failureRate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Rate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;check_failure_rate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stages: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { duration: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;5m&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, target: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Ramp-up to 100 users</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { duration: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;30m&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, target: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Stay at 100 users for 30 min</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { duration: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;5m&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, target: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Spike to 500 users</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { duration: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;10m&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, target: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Stay at 500 users</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { duration: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;5m&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, target: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Ramp-down</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  thresholds: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    http_req_duration: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;p(95)&lt;2000&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 95% of requests &lt; 2s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    http_req_failed: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;rate&lt;0.01&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Error rate &lt; 1%</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    check_failure_rate: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;rate&lt;0.05&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Check failure &lt; 5%</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Submit passport application</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> payload</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    firstName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`User-\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">__VU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}-\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">__ITER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    lastName: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dateOfBirth: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1985-06-15&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    citizenshipNumber: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Math</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">floor</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Math</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">random</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000000000</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    headers: { </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Content-Type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;application/json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> http.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;https://test.services.gov.example/api/applications&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    payload,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    params</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> success</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> check</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res, {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;status is 201&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> r.status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 201</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;response time &lt; 2s&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> r.timings.duration </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;applicationId returned&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">r</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> r.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;applicationId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  failureRate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">success);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  sleep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Think time between requests</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Running Load Tests:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run locally</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">k6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> load-test-passport-application.js</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run distributed (k6 Cloud)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">k6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cloud</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> load-test-passport-application.js</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Run with Grafana dashboard</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">k6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> influxdb=http://localhost:8086/k6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> load-test.js</span></span></code></pre></div><p><strong>Load Testing Checklist:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Pre-Load Test Checklist:</span></span>
<span class="line"><span>1. [ ] Test environment mirrors production (same instance types, DB size)</span></span>
<span class="line"><span>2. [ ] Test data prepared (synthetic users, realistic data volumes)</span></span>
<span class="line"><span>3. [ ] Monitoring configured (APM, database metrics, server metrics)</span></span>
<span class="line"><span>4. [ ] Baselines established (know current performance)</span></span>
<span class="line"><span>5. [ ] Stakeholders notified (DevOps, database team, security)</span></span>
<span class="line"><span>6. [ ] Runbook ready (how to scale, rollback, troubleshoot)</span></span>
<span class="line"><span>7. [ ] Load test script validated (small test first)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>During Load Test:</span></span>
<span class="line"><span>1. [ ] Monitor response times (p50, p95, p99)</span></span>
<span class="line"><span>2. [ ] Monitor error rates (target &lt;1%)</span></span>
<span class="line"><span>3. [ ] Monitor resource utilization (CPU, memory, disk, network)</span></span>
<span class="line"><span>4. [ ] Monitor database performance (connection pool, query times)</span></span>
<span class="line"><span>5. [ ] Check for memory leaks (heap usage increasing)</span></span>
<span class="line"><span>6. [ ] Review logs for errors</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Post-Load Test:</span></span>
<span class="line"><span>1. [ ] Analyze bottlenecks (database queries, API calls, CPU)</span></span>
<span class="line"><span>2. [ ] Review capacity (can system handle expected traffic?)</span></span>
<span class="line"><span>3. [ ] Identify optimizations (caching, query tuning, auto-scaling)</span></span>
<span class="line"><span>4. [ ] Document findings (report, recommendations)</span></span>
<span class="line"><span>5. [ ] Schedule follow-up tests (after optimizations)</span></span></code></pre></div><p><strong>Tools:</strong></p><ul><li><strong>k6:</strong> Modern load testing, Grafana integration</li><li><strong>JMeter:</strong> Java-based, GUI + CLI, widely used</li><li><strong>Gatling:</strong> Scala-based, high performance</li><li><strong>Locust:</strong> Python-based, easy to script</li></ul><h3 id="core-web-vitals-monitoring" tabindex="-1">Core Web Vitals Monitoring <a class="header-anchor" href="#core-web-vitals-monitoring" aria-label="Permalink to &quot;Core Web Vitals Monitoring&quot;">​</a></h3><p><strong>Real User Monitoring (RUM):</strong></p><p>Track performance for actual users (not synthetic tests):</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// web-vitals-tracking.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { getCLS, getFID, getFCP, getLCP, getTTFB } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;web-vitals&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sendToAnalytics</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">metric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Send to analytics backend</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/api/analytics/web-vitals&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    method: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;POST&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    body: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      name: metric.name,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      value: metric.value,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      rating: metric.rating,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      delta: metric.delta,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      id: metric.id,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      page: window.location.pathname,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      userAgent: navigator.userAgent,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    headers: { </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Content-Type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;application/json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    keepalive: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCLS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sendToAnalytics);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getFID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sendToAnalytics);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getFCP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sendToAnalytics);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getLCP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sendToAnalytics);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getTTFB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sendToAnalytics);</span></span></code></pre></div><p><strong>Dashboards:</strong></p><p>Track performance trends over time:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Core Web Vitals Dashboard:</span></span>
<span class="line"><span>- LCP by page (identify slow pages)</span></span>
<span class="line"><span>- FID by device type (mobile vs. desktop)</span></span>
<span class="line"><span>- CLS by component (identify layout shifts)</span></span>
<span class="line"><span>- Performance trends (week-over-week, month-over-month)</span></span>
<span class="line"><span>- Performance by country/region</span></span>
<span class="line"><span>- Performance by connection speed (4G, 5G, broadband)</span></span></code></pre></div><p><strong>Tools:</strong></p><ul><li><strong>Google Analytics 4:</strong> Built-in Web Vitals tracking</li><li><strong>Datadog RUM:</strong> Real user monitoring, APM integration</li><li><strong>New Relic Browser:</strong> Performance monitoring</li><li><strong>Sentry:</strong> Error tracking + performance</li></ul><hr><h2 id="operational-testing" tabindex="-1">Operational Testing <a class="header-anchor" href="#operational-testing" aria-label="Permalink to &quot;Operational Testing&quot;">​</a></h2><p>Production is the ultimate test environment. Operational testing validates resilience, disaster recovery, and incident response.</p><h3 id="smoke-testing-post-deployment" tabindex="-1">Smoke Testing (Post-Deployment) <a class="header-anchor" href="#smoke-testing-post-deployment" aria-label="Permalink to &quot;Smoke Testing (Post-Deployment)&quot;">​</a></h3><p><strong>Purpose:</strong> Quick sanity check after deployment (5-10 minutes)</p><p><strong>Example Smoke Test Suite:</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// smoke-tests.js</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Production Smoke Tests&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;homepage loads&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://services.gov.example&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response.status).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;API health check passes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.services.gov.example/health&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response.status).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> health</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(health.status).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;UP&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;database connection works&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://api.services.gov.example/health/db&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response.status).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;authentication service works&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://auth.services.gov.example/health&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response.status).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;critical user journey works&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Test passport application submission</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://services.gov.example/passport&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response.status).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toContain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Apply for Passport&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><strong>Run Automatically After Deployment:</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .gitlab-ci.yml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">deploy-production</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">deploy</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">kubectl apply -f k8s/production/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">kubectl rollout status deployment/passport-service</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">production</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https://services.gov.example</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">smoke-tests-production</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">post-deploy</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  needs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deploy-production&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm run test:smoke -- --env=production</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  allow_failure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Rollback if smoke tests fail</span></span></code></pre></div><h3 id="chaos-engineering" tabindex="-1">Chaos Engineering <a class="header-anchor" href="#chaos-engineering" aria-label="Permalink to &quot;Chaos Engineering&quot;">​</a></h3><p><strong>Purpose:</strong> Proactively inject failures to validate resilience</p><p><strong>Chaos Engineering Principles:</strong></p><ol><li><strong>Define steady state:</strong> Normal system behavior (response times, error rates)</li><li><strong>Hypothesize:</strong> &quot;System will remain stable if database fails over&quot;</li><li><strong>Inject failure:</strong> Kill database primary node</li><li><strong>Observe:</strong> Did system recover? How long did it take?</li><li><strong>Improve:</strong> Fix issues, automate failover, improve monitoring</li></ol><p><strong>Example Chaos Experiments:</strong></p><table tabindex="0"><thead><tr><th>Experiment</th><th>Hypothesis</th><th>Validation</th></tr></thead><tbody><tr><td><strong>Kill random pod</strong></td><td>K8s will restart pod, no user impact</td><td>Error rate &lt;1%, response time &lt;2s</td></tr><tr><td><strong>Database failover</strong></td><td>Secondary takes over in &lt;30s</td><td>Downtime &lt;30s, no data loss</td></tr><tr><td><strong>Network latency</strong></td><td>System handles 500ms latency</td><td>Response time increases but &lt;5s</td></tr><tr><td><strong>API dependency failure</strong></td><td>Circuit breaker triggers, fallback works</td><td>Graceful degradation, error messages</td></tr><tr><td><strong>Disk full</strong></td><td>Logs rotate, alerts fire</td><td>System continues, ops notified</td></tr></tbody></table><p><strong>Tools:</strong></p><ul><li><strong>Chaos Monkey:</strong> Netflix tool, kills random instances</li><li><strong>Gremlin:</strong> Enterprise chaos engineering platform</li><li><strong>Litmus Chaos:</strong> Kubernetes-native chaos engineering</li><li><strong>Chaos Mesh:</strong> CNCF chaos engineering platform</li></ul><p><strong>Example (Chaos Mesh):</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># chaos-experiment-pod-kill.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">chaos-mesh.org/v1alpha1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">PodChaos</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pod-kill-passport-service</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  namespace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">production</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pod-kill</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">one</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  selector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    namespaces</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">production</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    labelSelectors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      app</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">passport-service</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  scheduler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    cron</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;@every 1h&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Kill one pod every hour</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  duration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">30s</span></span></code></pre></div><h3 id="disaster-recovery-testing" tabindex="-1">Disaster Recovery Testing <a class="header-anchor" href="#disaster-recovery-testing" aria-label="Permalink to &quot;Disaster Recovery Testing&quot;">​</a></h3><p><strong>Purpose:</strong> Validate backup/restore procedures work</p><p><strong>Annual Disaster Recovery Test:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Disaster Recovery Test Plan (Annual):</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Scenario: Complete data center failure</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Pre-Test:</span></span>
<span class="line"><span>1. [ ] Schedule 4-hour maintenance window (low-traffic period)</span></span>
<span class="line"><span>2. [ ] Notify stakeholders (executives, operations, communications)</span></span>
<span class="line"><span>3. [ ] Prepare rollback plan (restore from current state)</span></span>
<span class="line"><span>4. [ ] Document baseline metrics (response times, uptime)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Test Steps:</span></span>
<span class="line"><span>1. [ ] Simulate data center failure (shutdown primary region)</span></span>
<span class="line"><span>2. [ ] Trigger failover to secondary region</span></span>
<span class="line"><span>3. [ ] Verify DNS switches to secondary region</span></span>
<span class="line"><span>4. [ ] Verify application comes online</span></span>
<span class="line"><span>5. [ ] Run smoke tests (critical user journeys)</span></span>
<span class="line"><span>6. [ ] Restore from backup (test backup integrity)</span></span>
<span class="line"><span>7. [ ] Verify data consistency (no data loss)</span></span>
<span class="line"><span>8. [ ] Simulate failback to primary region</span></span>
<span class="line"><span>9. [ ] Run smoke tests again</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Success Criteria:</span></span>
<span class="line"><span>- Failover completes in &lt;15 minutes (RTO)</span></span>
<span class="line"><span>- No data loss (RPO = 0)</span></span>
<span class="line"><span>- All critical services operational</span></span>
<span class="line"><span>- Error rate &lt;1% during failover</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Post-Test:</span></span>
<span class="line"><span>1. [ ] Document findings (what worked, what didn&#39;t)</span></span>
<span class="line"><span>2. [ ] Identify improvements (automation, monitoring, runbooks)</span></span>
<span class="line"><span>3. [ ] Update disaster recovery plan</span></span>
<span class="line"><span>4. [ ] Schedule follow-up test (6 months)</span></span></code></pre></div><h3 id="security-incident-simulation-tabletop-exercise" tabindex="-1">Security Incident Simulation (Tabletop Exercise) <a class="header-anchor" href="#security-incident-simulation-tabletop-exercise" aria-label="Permalink to &quot;Security Incident Simulation (Tabletop Exercise)&quot;">​</a></h3><p><strong>Purpose:</strong> Practice incident response procedures</p><p><strong>Quarterly Tabletop Exercise:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Security Incident Tabletop Exercise:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Scenario: Credential leak on public GitHub repository</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Participants:</span></span>
<span class="line"><span>- Incident Commander (CTO/CISO)</span></span>
<span class="line"><span>- Development Team Lead</span></span>
<span class="line"><span>- Security Team Lead</span></span>
<span class="line"><span>- Communications Lead</span></span>
<span class="line"><span>- Legal Counsel</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Timeline:</span></span>
<span class="line"><span>09:00 - Incident Detected: Developer accidentally commits AWS credentials to GitHub</span></span>
<span class="line"><span>09:05 - Questions:</span></span>
<span class="line"><span>  - How do we detect this? (GitHub secret scanning, Slack alerts)</span></span>
<span class="line"><span>  - Who is notified first?</span></span>
<span class="line"><span>  - What is the first action? (Rotate credentials immediately)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>09:15 - Incident Escalation: Credentials were valid for 6 hours before detection</span></span>
<span class="line"><span>09:20 - Questions:</span></span>
<span class="line"><span>  - How do we assess impact? (CloudTrail logs, access logs)</span></span>
<span class="line"><span>  - Were any resources accessed/modified?</span></span>
<span class="line"><span>  - Do we notify users?</span></span>
<span class="line"><span></span></span>
<span class="line"><span>09:30 - Public Disclosure: Media outlet reports leaked credentials</span></span>
<span class="line"><span>09:35 - Questions:</span></span>
<span class="line"><span>  - How do we respond? (Prepared statement, transparency)</span></span>
<span class="line"><span>  - Do we notify data protection authority? (72-hour GDPR requirement)</span></span>
<span class="line"><span>  - What is our communication strategy?</span></span>
<span class="line"><span></span></span>
<span class="line"><span>10:00 - Debrief:</span></span>
<span class="line"><span>  - What went well?</span></span>
<span class="line"><span>  - What needs improvement?</span></span>
<span class="line"><span>  - Action items (preventive controls, detection improvements, response automation)</span></span></code></pre></div><hr><h2 id="test-data-management" tabindex="-1">Test Data Management <a class="header-anchor" href="#test-data-management" aria-label="Permalink to &quot;Test Data Management&quot;">​</a></h2><p>Poor test data management leads to brittle tests, PII leaks, and security vulnerabilities.</p><h3 id="synthetic-data-generation" tabindex="-1">Synthetic Data Generation <a class="header-anchor" href="#synthetic-data-generation" aria-label="Permalink to &quot;Synthetic Data Generation&quot;">​</a></h3><p><strong>Never use production data in test environments.</strong></p><p><strong>Example (Faker.js):</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// generate-test-data.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { faker } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@faker-js/faker&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generatePassportApplication</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    applicationId: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`APP-\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">faker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">numeric</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    firstName: faker.person.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">firstName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    lastName: faker.person.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lastName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dateOfBirth: faker.date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">birthdate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ min: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, max: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, mode: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;age&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    citizenshipNumber: faker.string.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">numeric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    email: faker.internet.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">email</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    phone: faker.phone.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    address: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      street: faker.location.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">streetAddress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      city: faker.location.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">city</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      postalCode: faker.location.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">zipCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      country: faker.location.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">country</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    photo: faker.image.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">avatar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    submittedDate: faker.date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">recent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ days: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    status: faker.helpers.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arrayElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SUBMITTED&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;IN_REVIEW&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;APPROVED&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;REJECTED&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Generate 1,000 test applications</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> applications</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Array.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ length: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }, generatePassportApplication);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Save to JSON file</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test-data/applications.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(applications, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span></code></pre></div><p><strong>Benefits:</strong></p><ul><li>No PII exposure</li><li>Reproducible (seed random generator)</li><li>Scalable (generate millions of records)</li><li>Realistic (proper data types, distributions)</li></ul><h3 id="test-data-privacy" tabindex="-1">Test Data Privacy <a class="header-anchor" href="#test-data-privacy" aria-label="Permalink to &quot;Test Data Privacy&quot;">​</a></h3><p><strong>If production data must be used (anonymize first):</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Anonymize sensitive fields</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">UPDATE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> users </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SET</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  first_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;User&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> id,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  last_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Test&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> id,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  email </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;user&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@example.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  phone </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ssn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  credit_card </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  date_of_birth </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> date_of_birth </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (RANDOM() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 365</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> INTERVAL </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;1 day&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> environment </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;test&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p><strong>Data Masking Tools:</strong></p><ul><li><strong>PostgreSQL Anonymizer:</strong> Extension for PostgreSQL</li><li><strong>Microsoft Data Masking:</strong> Azure SQL feature</li><li><strong>Delphix:</strong> Enterprise data masking platform</li><li><strong>Tonic.ai:</strong> Synthetic data generation + masking</li></ul><h3 id="test-data-versioning" tabindex="-1">Test Data Versioning <a class="header-anchor" href="#test-data-versioning" aria-label="Permalink to &quot;Test Data Versioning&quot;">​</a></h3><p><strong>Pin test data to versions for reproducible tests:</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// test-data-loader.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TestDataLoader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.version </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> version;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`./test-data-v\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">version</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}.json\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> loadApplications</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> applications</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.data.applications.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, count);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.applications.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">insertMany</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(applications);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  async</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.applications.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">deleteMany</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({});</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.users.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">deleteMany</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Use in tests</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">describe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Passport Application Tests&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> testData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TestDataLoader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  beforeEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> testData.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> testData.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">loadApplications</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;can retrieve application by ID&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> application</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getApplication</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;APP-0000000001&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    expect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(application.firstName).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;John&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><hr><h2 id="test-environment-strategy" tabindex="-1">Test Environment Strategy <a class="header-anchor" href="#test-environment-strategy" aria-label="Permalink to &quot;Test Environment Strategy&quot;">​</a></h2><h3 id="environment-pyramid" tabindex="-1">Environment Pyramid <a class="header-anchor" href="#environment-pyramid" aria-label="Permalink to &quot;Environment Pyramid&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Production (Prod)</span></span>
<span class="line"><span>               /        \\</span></span>
<span class="line"><span>              /          \\</span></span>
<span class="line"><span>        Pre-Production    Production</span></span>
<span class="line"><span>            (Pre-Prod)      (Prod)</span></span>
<span class="line"><span>             /    \\          /   \\</span></span>
<span class="line"><span>            /      \\        /     \\</span></span>
<span class="line"><span>        Staging    UAT   Prod    Prod</span></span>
<span class="line"><span>                           A      B</span></span>
<span class="line"><span>          /      \\</span></span>
<span class="line"><span>         /        \\</span></span>
<span class="line"><span>     Test       Dev</span></span>
<span class="line"><span>   (Shared)   (Personal)</span></span></code></pre></div><p><strong>Environment Characteristics:</strong></p><table tabindex="0"><thead><tr><th>Environment</th><th>Purpose</th><th>Data</th><th>Uptime</th><th>Cost</th></tr></thead><tbody><tr><td><strong>Dev</strong></td><td>Local development</td><td>Synthetic, minimal</td><td>On-demand</td><td>Low</td></tr><tr><td><strong>Test</strong></td><td>Automated testing</td><td>Synthetic, full dataset</td><td>On-demand</td><td>Low</td></tr><tr><td><strong>Staging</strong></td><td>Pre-production testing</td><td>Production-like</td><td>95%</td><td>Medium</td></tr><tr><td><strong>Pre-Prod</strong></td><td>Final validation</td><td>Production mirror</td><td>99%</td><td>High</td></tr><tr><td><strong>Prod</strong></td><td>Live services</td><td>Real user data</td><td>99.9%</td><td>Highest</td></tr></tbody></table><h3 id="infrastructure-as-code-for-environments" tabindex="-1">Infrastructure-as-Code for Environments <a class="header-anchor" href="#infrastructure-as-code-for-environments" aria-label="Permalink to &quot;Infrastructure-as-Code for Environments&quot;">​</a></h3><p><strong>All environments defined as code (Terraform):</strong></p><div class="language-hcl vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">hcl</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># environments/staging/main.tf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">module</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> &quot;passport_service&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  source</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;../../modules/passport-service&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  environment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;staging&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  instance_type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;t3.medium&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  instance_count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  database_size</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;db.t3.medium&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  enable_monitoring</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  enable_backups</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Not needed for staging</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  tags</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Environment </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;staging&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ManagedBy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;terraform&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    CostCenter </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;digital-services&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Benefits:</strong></p><ul><li>Consistent environments (no configuration drift)</li><li>Self-service (developers can spin up environments)</li><li>Version controlled (audit trail, rollback)</li><li>Cost optimization (tear down when not needed)</li></ul><h3 id="environment-parity" tabindex="-1">Environment Parity <a class="header-anchor" href="#environment-parity" aria-label="Permalink to &quot;Environment Parity&quot;">​</a></h3><p><strong>Minimize differences between environments:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Environment Parity Checklist:</span></span>
<span class="line"><span>1. [ ] Same OS version (Ubuntu 22.04 LTS)</span></span>
<span class="line"><span>2. [ ] Same runtime versions (Node 20, Java 17)</span></span>
<span class="line"><span>3. [ ] Same database version (PostgreSQL 15)</span></span>
<span class="line"><span>4. [ ] Same infrastructure (Kubernetes 1.28)</span></span>
<span class="line"><span>5. [ ] Same monitoring tools (Datadog, Prometheus)</span></span>
<span class="line"><span>6. [ ] Same security controls (WAF, DDoS protection)</span></span>
<span class="line"><span>7. [ ] Similar data volumes (staging = 10% of prod)</span></span>
<span class="line"><span>8. [ ] Similar network topology (VPC, subnets, security groups)</span></span></code></pre></div><p><strong>Acceptable Differences:</strong></p><ul><li>Instance sizes (staging can be smaller)</li><li>Backups (not needed in dev/test)</li><li>High availability (single instance ok for dev)</li><li>Data volumes (10% of prod for staging)</li></ul><hr><h2 id="ci-cd-integration" tabindex="-1">CI/CD Integration <a class="header-anchor" href="#ci-cd-integration" aria-label="Permalink to &quot;CI/CD Integration&quot;">​</a></h2><h3 id="automated-testing-in-pipelines" tabindex="-1">Automated Testing in Pipelines <a class="header-anchor" href="#automated-testing-in-pipelines" aria-label="Permalink to &quot;Automated Testing in Pipelines&quot;">​</a></h3><p><strong>Every commit triggers automated tests:</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .gitlab-ci.yml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">stages</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">build</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">security</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">deploy</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">build</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm install</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm run build</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  artifacts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    paths</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">dist/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">unit-tests</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm run test:unit -- --coverage</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  coverage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/All files[^|]*\\|[^|]*\\s+([\\d\\.]+)/</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  artifacts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    reports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      coverage_report</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        coverage_format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">cobertura</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">coverage/cobertura-coverage.xml</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">integration-tests</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">docker-compose up -d</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm run test:integration</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">docker-compose down</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  services</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">postgres:15</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">e2e-tests</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm run test:e2e</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  parallel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Run in parallel for speed</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">security-scan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">security</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">snyk test --severity-threshold=high</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sonar-scanner</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">accessibility-scan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">security</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm run test:accessibility</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">performance-budget</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">security</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lighthouse https://test.services.gov.example --output=json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">node check-performance-budget.js</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">deploy-staging</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">deploy</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">kubectl apply -f k8s/staging/</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">staging</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  only</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">main</span></span></code></pre></div><h3 id="quality-gates" tabindex="-1">Quality Gates <a class="header-anchor" href="#quality-gates" aria-label="Permalink to &quot;Quality Gates&quot;">​</a></h3><p><strong>Block deployments if quality thresholds not met:</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># sonar-project.properties</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sonar.qualitygate.wait=true</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sonar.qualitygate.timeout=300</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Quality Gate Conditions:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># - Code Coverage &gt; 80%</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># - Bugs (Critical/High) = 0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># - Vulnerabilities (Critical/High) = 0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># - Security Hotspots Reviewed = 100%</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># - Code Smells (Critical) = 0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># - Duplicated Lines &lt; 3%</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># - Maintainability Rating &gt;= A</span></span></code></pre></div><h3 id="parallel-test-execution" tabindex="-1">Parallel Test Execution <a class="header-anchor" href="#parallel-test-execution" aria-label="Permalink to &quot;Parallel Test Execution&quot;">​</a></h3><p><strong>Speed up CI/CD by running tests in parallel:</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .gitlab-ci.yml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">e2e-tests</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  parallel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    matrix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">SPEC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;passport-application&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;license-renewal&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tax-filing&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;benefits-enrollment&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;appointment-booking&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm run test:e2e -- --spec=&quot;tests/e2e/\${SPEC}.spec.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  artifacts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    reports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      junit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test-results/junit-\${SPEC}.xml</span></span></code></pre></div><p><strong>Result:</strong> 5 specs running in parallel = 5x faster</p><h3 id="test-result-reporting" tabindex="-1">Test Result Reporting <a class="header-anchor" href="#test-result-reporting" aria-label="Permalink to &quot;Test Result Reporting&quot;">​</a></h3><p><strong>Centralized test reporting dashboard:</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># .gitlab-ci.yml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">test-report</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  stage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">npm run test:unit -- --reporters=default --reporters=jest-junit</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  artifacts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    reports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      junit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">junit.xml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    when</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">always</span></span></code></pre></div><p><strong>GitLab Test Report Example:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Test Results (Unit Tests):</span></span>
<span class="line"><span>✅ 2,547 passed</span></span>
<span class="line"><span>⚠️ 3 flaky</span></span>
<span class="line"><span>❌ 2 failed</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Failed Tests:</span></span>
<span class="line"><span>1. calculateTax should handle negative income</span></span>
<span class="line"><span>   Expected: Error thrown</span></span>
<span class="line"><span>   Actual: -150</span></span>
<span class="line"><span></span></span>
<span class="line"><span>2. submitApplication should validate required fields</span></span>
<span class="line"><span>   Expected: 400 Bad Request</span></span>
<span class="line"><span>   Actual: 500 Internal Server Error</span></span></code></pre></div><hr><h2 id="quality-metrics-kpis" tabindex="-1">Quality Metrics &amp; KPIs <a class="header-anchor" href="#quality-metrics-kpis" aria-label="Permalink to &quot;Quality Metrics &amp; KPIs&quot;">​</a></h2><h3 id="code-coverage" tabindex="-1">Code Coverage <a class="header-anchor" href="#code-coverage" aria-label="Permalink to &quot;Code Coverage&quot;">​</a></h3><p><strong>Target: 80%+ coverage for critical business logic</strong></p><p><strong>Example Coverage Report:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>=============================== Coverage summary ===============================</span></span>
<span class="line"><span>Statements   : 82.45% ( 4,523/5,484 )</span></span>
<span class="line"><span>Branches     : 75.32% ( 1,234/1,638 )</span></span>
<span class="line"><span>Functions    : 85.67% ( 987/1,152 )</span></span>
<span class="line"><span>Lines        : 83.21% ( 4,321/5,193 )</span></span>
<span class="line"><span>================================================================================</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Critical Paths (95%+ coverage required):</span></span>
<span class="line"><span>✅ Payment processing: 97.3%</span></span>
<span class="line"><span>✅ Identity verification: 96.8%</span></span>
<span class="line"><span>✅ Benefits eligibility: 95.1%</span></span>
<span class="line"><span>⚠️ Application submission: 78.4% (below threshold)</span></span>
<span class="line"><span>❌ Document upload: 65.2% (below threshold)</span></span></code></pre></div><p><strong>Coverage by Component:</strong></p><table tabindex="0"><thead><tr><th>Component</th><th>Statements</th><th>Branches</th><th>Functions</th><th>Status</th></tr></thead><tbody><tr><td><strong>Controllers</strong></td><td>85%</td><td>78%</td><td>90%</td><td>✅</td></tr><tr><td><strong>Services</strong></td><td>92%</td><td>85%</td><td>95%</td><td>✅</td></tr><tr><td><strong>Repositories</strong></td><td>88%</td><td>80%</td><td>90%</td><td>✅</td></tr><tr><td><strong>Utilities</strong></td><td>95%</td><td>90%</td><td>98%</td><td>✅</td></tr><tr><td><strong>Validators</strong></td><td>72%</td><td>65%</td><td>75%</td><td>⚠️</td></tr></tbody></table><h3 id="test-pass-rate" tabindex="-1">Test Pass Rate <a class="header-anchor" href="#test-pass-rate" aria-label="Permalink to &quot;Test Pass Rate&quot;">​</a></h3><p><strong>Target: 95%+ pass rate</strong></p><p><strong>Weekly Test Report:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Week of 2025-01-06:</span></span>
<span class="line"><span>Total Tests: 5,234</span></span>
<span class="line"><span>✅ Passed: 5,012 (95.8%)</span></span>
<span class="line"><span>❌ Failed: 15 (0.3%)</span></span>
<span class="line"><span>⚠️ Flaky: 207 (3.9%)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Trend: ↑ 2.1% from last week</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Failed Tests:</span></span>
<span class="line"><span>1. E2E: Passport application submission (flaky network)</span></span>
<span class="line"><span>2. Integration: Database connection timeout (load issue)</span></span>
<span class="line"><span>3. Unit: Tax calculation edge case (new bug)</span></span></code></pre></div><h3 id="defect-escape-rate" tabindex="-1">Defect Escape Rate <a class="header-anchor" href="#defect-escape-rate" aria-label="Permalink to &quot;Defect Escape Rate&quot;">​</a></h3><p><strong>Target: &lt;5% of bugs found in production</strong></p><p><strong>Defect Escape Rate = (Production Bugs) / (Total Bugs Found) × 100</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Q4 2024 Defect Report:</span></span>
<span class="line"><span>Total Bugs Found: 347</span></span>
<span class="line"><span>├── Found in Development: 198 (57%)</span></span>
<span class="line"><span>├── Found in Testing: 124 (36%)</span></span>
<span class="line"><span>├── Found in Staging: 18 (5%)</span></span>
<span class="line"><span>└── Found in Production: 7 (2%)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Defect Escape Rate: 2% ✅ (Target: &lt;5%)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Production Defects by Severity:</span></span>
<span class="line"><span>- Critical: 0</span></span>
<span class="line"><span>- High: 1</span></span>
<span class="line"><span>- Medium: 3</span></span>
<span class="line"><span>- Low: 3</span></span></code></pre></div><h3 id="mean-time-to-detect-mttd" tabindex="-1">Mean Time to Detect (MTTD) <a class="header-anchor" href="#mean-time-to-detect-mttd" aria-label="Permalink to &quot;Mean Time to Detect (MTTD)&quot;">​</a></h3><p><strong>Target: &lt;1 hour to detect production defects</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>MTTD by Defect Type:</span></span>
<span class="line"><span>- Performance degradation: 15 minutes ✅</span></span>
<span class="line"><span>- Security vulnerability: 3 hours ⚠️</span></span>
<span class="line"><span>- Functional bug: 45 minutes ✅</span></span>
<span class="line"><span>- Data integrity issue: 2 hours ⚠️</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Detection Methods:</span></span>
<span class="line"><span>- Automated monitoring: 65%</span></span>
<span class="line"><span>- User reports: 25%</span></span>
<span class="line"><span>- Manual QA: 10%</span></span></code></pre></div><h3 id="mean-time-to-resolve-mttr" tabindex="-1">Mean Time to Resolve (MTTR) <a class="header-anchor" href="#mean-time-to-resolve-mttr" aria-label="Permalink to &quot;Mean Time to Resolve (MTTR)&quot;">​</a></h3><p><strong>Target: &lt;4 hours for critical bugs, &lt;24 hours for high bugs</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>MTTR by Severity (Q4 2024):</span></span>
<span class="line"><span>- Critical: 2.3 hours ✅ (Target: &lt;4 hours)</span></span>
<span class="line"><span>- High: 18 hours ✅ (Target: &lt;24 hours)</span></span>
<span class="line"><span>- Medium: 5 days (Target: &lt;1 week)</span></span>
<span class="line"><span>- Low: 14 days (Target: &lt;2 weeks)</span></span></code></pre></div><hr><h2 id="organizational-model" tabindex="-1">Organizational Model <a class="header-anchor" href="#organizational-model" aria-label="Permalink to &quot;Organizational Model&quot;">​</a></h2><h3 id="qa-team-structure" tabindex="-1">QA Team Structure <a class="header-anchor" href="#qa-team-structure" aria-label="Permalink to &quot;QA Team Structure&quot;">​</a></h3><p><strong>Centralized QA Team (Traditional):</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CTO</span></span>
<span class="line"><span>└── VP Engineering</span></span>
<span class="line"><span>    ├── Development Teams (5 teams)</span></span>
<span class="line"><span>    └── QA Team (10 QA engineers)</span></span>
<span class="line"><span>        ├── Manual Testing (3)</span></span>
<span class="line"><span>        ├── Test Automation (5)</span></span>
<span class="line"><span>        └── Performance Testing (2)</span></span></code></pre></div><p><strong>Pros:</strong></p><ul><li>Deep QA expertise</li><li>Consistent quality standards</li><li>Specialized skills (performance, security)</li></ul><p><strong>Cons:</strong></p><ul><li>Bottleneck (QA team becomes gate)</li><li>Slow feedback (handoffs between dev and QA)</li><li>&quot;Throw over the wall&quot; mentality</li></ul><p><strong>Embedded QA Model (Modern):</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CTO</span></span>
<span class="line"><span>└── VP Engineering</span></span>
<span class="line"><span>    ├── Passport Service Team</span></span>
<span class="line"><span>    │   ├── Developers (5)</span></span>
<span class="line"><span>    │   └── QA Engineer (1)</span></span>
<span class="line"><span>    ├── Tax Filing Team</span></span>
<span class="line"><span>    │   ├── Developers (6)</span></span>
<span class="line"><span>    │   └── QA Engineer (1)</span></span>
<span class="line"><span>    └── Platform Team</span></span>
<span class="line"><span>        ├── Developers (4)</span></span>
<span class="line"><span>        └── QA Engineer (1)</span></span></code></pre></div><p><strong>Pros:</strong></p><ul><li>Fast feedback (QA embedded in team)</li><li>Shared ownership of quality</li><li>Domain expertise (QA becomes expert in service)</li></ul><p><strong>Cons:</strong></p><ul><li>Less specialized knowledge</li><li>Inconsistent practices across teams</li><li>Harder to share knowledge</li></ul><p><strong>Hybrid Model (Recommended):</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>CTO</span></span>
<span class="line"><span>└── VP Engineering</span></span>
<span class="line"><span>    ├── Product Teams (Embedded QA)</span></span>
<span class="line"><span>    │   ├── Passport Service Team (1 QA)</span></span>
<span class="line"><span>    │   ├── Tax Filing Team (1 QA)</span></span>
<span class="line"><span>    │   └── Benefits Team (1 QA)</span></span>
<span class="line"><span>    └── QA Center of Excellence (CoE)</span></span>
<span class="line"><span>        ├── Test Automation (2)</span></span>
<span class="line"><span>        ├── Performance Testing (1)</span></span>
<span class="line"><span>        ├── Security Testing (1)</span></span>
<span class="line"><span>        └── Accessibility (1)</span></span></code></pre></div><p><strong>Pros:</strong></p><ul><li>Best of both worlds</li><li>Embedded QA for fast feedback</li><li>CoE for specialized expertise, standards, training</li></ul><h3 id="shift-left-culture" tabindex="-1">Shift-Left Culture <a class="header-anchor" href="#shift-left-culture" aria-label="Permalink to &quot;Shift-Left Culture&quot;">​</a></h3><p><strong>Developers own quality:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Developer Responsibilities:</span></span>
<span class="line"><span>1. Write unit tests (70% coverage minimum)</span></span>
<span class="line"><span>2. Write integration tests (API contracts)</span></span>
<span class="line"><span>3. Run tests locally before committing</span></span>
<span class="line"><span>4. Fix bugs found in code review</span></span>
<span class="line"><span>5. Monitor production metrics (error rates, performance)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>QA Engineer Responsibilities:</span></span>
<span class="line"><span>1. Review test coverage (ensure critical paths tested)</span></span>
<span class="line"><span>2. Write E2E tests (critical user journeys)</span></span>
<span class="line"><span>3. Perform exploratory testing (find edge cases)</span></span>
<span class="line"><span>4. Accessibility testing (manual + automated)</span></span>
<span class="line"><span>5. Performance testing (load tests, stress tests)</span></span>
<span class="line"><span>6. Test automation framework (maintain, improve)</span></span></code></pre></div><h3 id="test-engineering-roles" tabindex="-1">Test Engineering Roles <a class="header-anchor" href="#test-engineering-roles" aria-label="Permalink to &quot;Test Engineering Roles&quot;">​</a></h3><p><strong>SDET (Software Development Engineer in Test):</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Role: SDET (Test Automation)</span></span>
<span class="line"><span>Responsibilities:</span></span>
<span class="line"><span>- Build and maintain test automation frameworks</span></span>
<span class="line"><span>- Develop test automation for unit, integration, E2E</span></span>
<span class="line"><span>- Integrate testing into CI/CD pipelines</span></span>
<span class="line"><span>- Performance testing and optimization</span></span>
<span class="line"><span>- Test data management</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Skills Required:</span></span>
<span class="line"><span>- Programming (JavaScript/Java/Python)</span></span>
<span class="line"><span>- Test frameworks (Jest, Selenium, k6)</span></span>
<span class="line"><span>- CI/CD (GitLab CI, GitHub Actions, Jenkins)</span></span>
<span class="line"><span>- Infrastructure (Docker, Kubernetes, AWS)</span></span>
<span class="line"><span>- Databases (SQL, NoSQL)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Salary Range: $100K-180K (varies by country)</span></span></code></pre></div><p><strong>QA Automation Engineer:</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Role: QA Automation Engineer</span></span>
<span class="line"><span>Responsibilities:</span></span>
<span class="line"><span>- Write automated tests (API, UI, mobile)</span></span>
<span class="line"><span>- Maintain test suites (fix flaky tests)</span></span>
<span class="line"><span>- Perform manual exploratory testing</span></span>
<span class="line"><span>- Accessibility testing (WCAG 2.1 AA)</span></span>
<span class="line"><span>- Test reporting and metrics</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Skills Required:</span></span>
<span class="line"><span>- Test automation tools (Selenium, Playwright, Postman)</span></span>
<span class="line"><span>- Basic programming (JavaScript, Python)</span></span>
<span class="line"><span>- Manual testing (test case design, bug reporting)</span></span>
<span class="line"><span>- Accessibility (WCAG, screen readers)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Salary Range: $80K-140K (varies by country)</span></span></code></pre></div><h3 id="training-upskilling" tabindex="-1">Training &amp; Upskilling <a class="header-anchor" href="#training-upskilling" aria-label="Permalink to &quot;Training &amp; Upskilling&quot;">​</a></h3><p><strong>Test Automation Bootcamp (8-Week Program):</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Week 1: Introduction to Testing</span></span>
<span class="line"><span>- Testing fundamentals (unit, integration, E2E)</span></span>
<span class="line"><span>- Testing pyramid</span></span>
<span class="line"><span>- TDD and BDD</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Week 2: Unit Testing</span></span>
<span class="line"><span>- Jest/JUnit fundamentals</span></span>
<span class="line"><span>- Writing testable code</span></span>
<span class="line"><span>- Mocking and stubbing</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Week 3: Integration Testing</span></span>
<span class="line"><span>- API testing with Postman/RestAssured</span></span>
<span class="line"><span>- Database testing</span></span>
<span class="line"><span>- Contract testing (Pact)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Week 4: E2E Testing</span></span>
<span class="line"><span>- Selenium/Playwright basics</span></span>
<span class="line"><span>- Page object model</span></span>
<span class="line"><span>- Handling waits and timeouts</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Week 5: Test Automation Framework</span></span>
<span class="line"><span>- Building reusable test utilities</span></span>
<span class="line"><span>- Test data management</span></span>
<span class="line"><span>- Reporting and logging</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Week 6: CI/CD Integration</span></span>
<span class="line"><span>- GitLab CI/GitHub Actions</span></span>
<span class="line"><span>- Quality gates</span></span>
<span class="line"><span>- Parallel test execution</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Week 7: Performance Testing</span></span>
<span class="line"><span>- Load testing with k6/JMeter</span></span>
<span class="line"><span>- Performance budgets</span></span>
<span class="line"><span>- Monitoring and alerting</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Week 8: Security &amp; Accessibility</span></span>
<span class="line"><span>- SAST/DAST/SCA</span></span>
<span class="line"><span>- Accessibility testing (axe, screen readers)</span></span>
<span class="line"><span>- Final project</span></span></code></pre></div><p><strong>Certification Programs:</strong></p><ul><li><strong>ISTQB Certified Tester:</strong> Foundation, Advanced, Expert levels</li><li><strong>Certified Selenium Professional:</strong> Selenium automation</li><li><strong>AWS Certified DevOps Engineer:</strong> CI/CD, infrastructure</li><li><strong>Certified Kubernetes Administrator (CKA):</strong> Container orchestration</li></ul><hr><h2 id="real-world-examples" tabindex="-1">Real-World Examples <a class="header-anchor" href="#real-world-examples" aria-label="Permalink to &quot;Real-World Examples&quot;">​</a></h2><h3 id="gov-uk-united-kingdom" tabindex="-1">Gov.UK (United Kingdom) <a class="header-anchor" href="#gov-uk-united-kingdom" aria-label="Permalink to &quot;Gov.UK (United Kingdom)&quot;">​</a></h3><p><strong>Testing Approach:</strong></p><ul><li><strong>80%+ test automation coverage</strong></li><li><strong>Continuous testing</strong> in CI/CD pipeline (every commit tested)</li><li><strong>Accessibility-first:</strong> WCAG 2.1 AA compliance mandatory</li><li><strong>Performance budgets:</strong> &lt;3s load time enforced</li><li><strong>Testing in production:</strong> Feature flags, canary deployments</li></ul><p><strong>Tools:</strong></p><ul><li><strong>Unit/Integration:</strong> RSpec (Ruby), Jest (JavaScript)</li><li><strong>E2E:</strong> Capybara, Selenium WebDriver</li><li><strong>Accessibility:</strong> axe, WAVE, manual screen reader testing</li><li><strong>Performance:</strong> Lighthouse, SpeedCurve (RUM)</li><li><strong>Security:</strong> GitHub Advanced Security, Snyk</li></ul><p><strong>Results:</strong></p><ul><li>99.9% uptime</li><li>&lt;1% error rate</li><li>98% user satisfaction</li><li>Zero critical accessibility issues</li></ul><h3 id="singapore-govtech" tabindex="-1">Singapore GovTech <a class="header-anchor" href="#singapore-govtech" aria-label="Permalink to &quot;Singapore GovTech&quot;">​</a></h3><p><strong>Testing Approach:</strong></p><ul><li><strong>Security testing mandatory</strong> for all government systems</li><li><strong>Penetration testing quarterly</strong> (internal + external)</li><li><strong>Automated security scanning</strong> in CI/CD</li><li><strong>Bug bounty program</strong> (responsible disclosure)</li><li><strong>Load testing</strong> before major campaigns (e.g., tax season)</li></ul><p><strong>Tools:</strong></p><ul><li><strong>SAST:</strong> SonarQube, Fortify</li><li><strong>DAST:</strong> OWASP ZAP, Burp Suite</li><li><strong>SCA:</strong> Snyk, WhiteSource</li><li><strong>Penetration Testing:</strong> Third-party security firms</li><li><strong>Load Testing:</strong> JMeter, Gatling</li></ul><p><strong>Results:</strong></p><ul><li>Zero major security incidents (2020-2024)</li><li>99.9% uptime during peak periods</li><li>Successfully handled 10x traffic spikes</li><li>30+ vulnerabilities reported via bug bounty</li></ul><h3 id="estonia-x-road" tabindex="-1">Estonia X-Road <a class="header-anchor" href="#estonia-x-road" aria-label="Permalink to &quot;Estonia X-Road&quot;">​</a></h3><p><strong>Testing Approach:</strong></p><ul><li><strong>Automated testing for X-Road core</strong> (data exchange layer)</li><li><strong>Integration testing</strong> with member institutions (quarterly)</li><li><strong>Chaos engineering</strong> (annual disaster recovery test)</li><li><strong>Uptime target:</strong> 99.9% (8 hours downtime per year max)</li></ul><p><strong>Tools:</strong></p><ul><li><strong>Unit/Integration:</strong> JUnit, TestNG (Java)</li><li><strong>Load Testing:</strong> JMeter, custom scripts</li><li><strong>Chaos Engineering:</strong> Custom failure injection</li><li><strong>Monitoring:</strong> Prometheus, Grafana, Zabbix</li></ul><p><strong>Results:</strong></p><ul><li>99.99% actual uptime (2020-2024)</li><li>2.8 billion queries per year (zero data loss)</li><li>Failover tested annually (successful every time)</li><li>Zero security breaches</li></ul><h3 id="us-digital-service" tabindex="-1">US Digital Service <a class="header-anchor" href="#us-digital-service" aria-label="Permalink to &quot;US Digital Service&quot;">​</a></h3><p><strong>Testing Approach:</strong></p><ul><li><strong>Testing in production</strong> with feature flags</li><li><strong>A/B testing</strong> for UX optimization</li><li><strong>Continuous deployment</strong> (10+ deployments per day)</li><li><strong>Observability-driven testing</strong> (metrics over tests)</li></ul><p><strong>Tools:</strong></p><ul><li><strong>Feature Flags:</strong> LaunchDarkly</li><li><strong>A/B Testing:</strong> Optimizely</li><li><strong>Monitoring:</strong> Datadog, New Relic</li><li><strong>Canary Deployments:</strong> Spinnaker</li></ul><p><strong>Results:</strong></p><ul><li>Healthcare.gov rebuilt with 50%+ fewer bugs</li><li>Deployment frequency: 10x improvement</li><li>Mean time to recovery: 90% reduction</li><li>User satisfaction: 20% improvement</li></ul><hr><h2 id="testing-maturity-model" tabindex="-1">Testing Maturity Model <a class="header-anchor" href="#testing-maturity-model" aria-label="Permalink to &quot;Testing Maturity Model&quot;">​</a></h2><h3 id="level-1-manual-testing-only" tabindex="-1">Level 1: Manual Testing Only <a class="header-anchor" href="#level-1-manual-testing-only" aria-label="Permalink to &quot;Level 1: Manual Testing Only&quot;">​</a></h3><p><strong>Characteristics:</strong></p><ul><li>No test automation</li><li>Manual regression testing before releases</li><li>No CI/CD pipeline</li><li>Testing happens after development</li></ul><p><strong>Metrics:</strong></p><ul><li>Test automation: 0%</li><li>Code coverage: Unknown</li><li>Release frequency: Monthly/quarterly</li><li>Defect escape rate: &gt;20%</li></ul><p><strong>Investment:</strong> Minimal ($50K/year)</p><h3 id="level-2-basic-automation" tabindex="-1">Level 2: Basic Automation <a class="header-anchor" href="#level-2-basic-automation" aria-label="Permalink to &quot;Level 2: Basic Automation&quot;">​</a></h3><p><strong>Characteristics:</strong></p><ul><li>Unit tests for some components</li><li>Basic E2E tests (happy paths)</li><li>CI pipeline (build + unit tests)</li><li>Testing still mostly manual</li></ul><p><strong>Metrics:</strong></p><ul><li>Test automation: 40-60%</li><li>Code coverage: 50-70%</li><li>Release frequency: Bi-weekly</li><li>Defect escape rate: 10-20%</li></ul><p><strong>Investment:</strong> $500K-1M over 3 years</p><h3 id="level-3-comprehensive-automation" tabindex="-1">Level 3: Comprehensive Automation <a class="header-anchor" href="#level-3-comprehensive-automation" aria-label="Permalink to &quot;Level 3: Comprehensive Automation&quot;">​</a></h3><p><strong>Characteristics:</strong></p><ul><li>80%+ test automation (unit, integration, E2E)</li><li>CI/CD pipeline (automated testing + deployment)</li><li>Security testing integrated (SAST/DAST/SCA)</li><li>Accessibility testing automated</li><li>Performance testing (load tests, budgets)</li></ul><p><strong>Metrics:</strong></p><ul><li>Test automation: 80-85%</li><li>Code coverage: 80-90%</li><li>Release frequency: Daily/weekly</li><li>Defect escape rate: 5-10%</li></ul><p><strong>Investment:</strong> $2-3M over 5 years</p><h3 id="level-4-testing-in-production" tabindex="-1">Level 4: Testing in Production <a class="header-anchor" href="#level-4-testing-in-production" aria-label="Permalink to &quot;Level 4: Testing in Production&quot;">​</a></h3><p><strong>Characteristics:</strong></p><ul><li>Feature flags (dark launches, canary)</li><li>Chaos engineering (proactive failure injection)</li><li>Real user monitoring (RUM)</li><li>Observability-driven testing</li></ul><p><strong>Metrics:</strong></p><ul><li>Test automation: 85-90%</li><li>Code coverage: 85-95%</li><li>Release frequency: Multiple times per day</li><li>Defect escape rate: 2-5%</li></ul><p><strong>Investment:</strong> $3-5M over 5 years</p><h3 id="level-5-autonomous-testing" tabindex="-1">Level 5: Autonomous Testing <a class="header-anchor" href="#level-5-autonomous-testing" aria-label="Permalink to &quot;Level 5: Autonomous Testing&quot;">​</a></h3><p><strong>Characteristics:</strong></p><ul><li>AI-powered test generation</li><li>Self-healing tests (adapt to UI changes)</li><li>Predictive quality (ML identifies high-risk changes)</li><li>Autonomous rollback (auto-detect and revert failures)</li></ul><p><strong>Metrics:</strong></p><ul><li>Test automation: 90-95%</li><li>Code coverage: 90-95%</li><li>Release frequency: Continuous deployment</li><li>Defect escape rate: &lt;2%</li></ul><p><strong>Investment:</strong> $5M+ over 5 years</p><p><strong>Current Leaders:</strong></p><ul><li>Netflix (Level 5)</li><li>Amazon (Level 5)</li><li>Google (Level 5)</li><li>Most governments (Level 2-3)</li></ul><hr><h2 id="implementation-roadmap-18-24-months" tabindex="-1">Implementation Roadmap (18-24 Months) <a class="header-anchor" href="#implementation-roadmap-18-24-months" aria-label="Permalink to &quot;Implementation Roadmap (18-24 Months)&quot;">​</a></h2><h3 id="phase-1-foundation-months-1-6" tabindex="-1">Phase 1: Foundation (Months 1-6) <a class="header-anchor" href="#phase-1-foundation-months-1-6" aria-label="Permalink to &quot;Phase 1: Foundation (Months 1-6)&quot;">​</a></h3><p><strong>Objective:</strong> Establish test automation foundation</p><p><strong>Activities:</strong></p><ol><li><p><strong>Team Formation (Month 1)</strong></p><ul><li>Hire 2-3 QA automation engineers</li><li>Train developers on TDD/BDD</li><li>Establish QA Center of Excellence</li></ul></li><li><p><strong>Tooling Setup (Month 2)</strong></p><ul><li>Select test frameworks (Jest, Playwright, k6)</li><li>Set up CI/CD pipeline (GitLab CI/GitHub Actions)</li><li>Integrate code coverage (SonarQube)</li></ul></li><li><p><strong>Unit Testing (Months 3-4)</strong></p><ul><li>Write unit tests for critical business logic</li><li>Target: 70% code coverage</li><li>Run unit tests in CI/CD (every commit)</li></ul></li><li><p><strong>Integration Testing (Months 5-6)</strong></p><ul><li>Write API tests (Postman/RestAssured)</li><li>Set up test databases (Docker containers)</li><li>Test contracts between services</li></ul></li></ol><p><strong>Deliverables:</strong></p><ul><li>✅ 70% code coverage</li><li>✅ Unit + integration tests in CI/CD</li><li>✅ Test automation framework</li><li>✅ Test data management strategy</li></ul><p><strong>Investment:</strong> $300K-500K</p><h3 id="phase-2-integration-months-7-12" tabindex="-1">Phase 2: Integration (Months 7-12) <a class="header-anchor" href="#phase-2-integration-months-7-12" aria-label="Permalink to &quot;Phase 2: Integration (Months 7-12)&quot;">​</a></h3><p><strong>Objective:</strong> Expand test coverage, integrate security/accessibility</p><p><strong>Activities:</strong></p><ol><li><p><strong>E2E Testing (Months 7-8)</strong></p><ul><li>Identify critical user journeys (top 10)</li><li>Write E2E tests (Playwright/Selenium)</li><li>Run E2E tests in CI/CD (nightly)</li></ul></li><li><p><strong>Accessibility Testing (Months 9-10)</strong></p><ul><li>Automated accessibility tests (axe)</li><li>Manual testing with screen readers</li><li>WCAG 2.1 AA compliance audit</li></ul></li><li><p><strong>Security Testing (Months 11-12)</strong></p><ul><li>Integrate SAST (SonarQube)</li><li>Integrate DAST (OWASP ZAP)</li><li>Integrate SCA (Snyk)</li><li>First penetration test</li></ul></li></ol><p><strong>Deliverables:</strong></p><ul><li>✅ 10 critical E2E tests automated</li><li>✅ WCAG 2.1 AA compliance</li><li>✅ Security testing in CI/CD</li><li>✅ First penetration test completed</li></ul><p><strong>Investment:</strong> $600K-1M</p><h3 id="phase-3-maturity-months-13-18" tabindex="-1">Phase 3: Maturity (Months 13-18) <a class="header-anchor" href="#phase-3-maturity-months-13-18" aria-label="Permalink to &quot;Phase 3: Maturity (Months 13-18)&quot;">​</a></h3><p><strong>Objective:</strong> Achieve comprehensive testing, optimize performance</p><p><strong>Activities:</strong></p><ol><li><p><strong>Performance Testing (Months 13-14)</strong></p><ul><li>Define performance budgets</li><li>Write load tests (k6/JMeter)</li><li>Run load tests quarterly</li><li>Set up RUM (Datadog/New Relic)</li></ul></li><li><p><strong>Test Optimization (Months 15-16)</strong></p><ul><li>Parallel test execution</li><li>Flaky test management</li><li>Test execution time optimization</li><li>Test reporting dashboards</li></ul></li><li><p><strong>Quality Gates (Months 17-18)</strong></p><ul><li>Enforce code coverage (80%+)</li><li>Enforce security scan (zero critical)</li><li>Enforce performance budgets</li><li>Block deployments if thresholds not met</li></ul></li></ol><p><strong>Deliverables:</strong></p><ul><li>✅ 80%+ code coverage</li><li>✅ Performance budgets enforced</li><li>✅ Load testing automated</li><li>✅ Quality gates in CI/CD</li></ul><p><strong>Investment:</strong> $700K-1.2M</p><h3 id="phase-4-excellence-months-19-24" tabindex="-1">Phase 4: Excellence (Months 19-24) <a class="header-anchor" href="#phase-4-excellence-months-19-24" aria-label="Permalink to &quot;Phase 4: Excellence (Months 19-24)&quot;">​</a></h3><p><strong>Objective:</strong> Testing in production, chaos engineering, continuous improvement</p><p><strong>Activities:</strong></p><ol><li><p><strong>Testing in Production (Months 19-20)</strong></p><ul><li>Implement feature flags (LaunchDarkly)</li><li>Canary deployments (Spinnaker)</li><li>Gradual rollouts (1% → 10% → 50% → 100%)</li></ul></li><li><p><strong>Chaos Engineering (Months 21-22)</strong></p><ul><li>Identify chaos experiments</li><li>Inject failures (pod kills, network latency)</li><li>Validate resilience</li><li>Automate chaos experiments</li></ul></li><li><p><strong>Continuous Improvement (Months 23-24)</strong></p><ul><li>Analyze defect trends</li><li>Optimize test suites (remove redundant tests)</li><li>AI-powered test generation (explore)</li><li>Autonomous testing (proof-of-concept)</li></ul></li></ol><p><strong>Deliverables:</strong></p><ul><li>✅ Feature flags in production</li><li>✅ Chaos engineering framework</li><li>✅ 85%+ test automation</li><li>✅ &lt;5% defect escape rate</li></ul><p><strong>Investment:</strong> $800K-1.5M</p><h3 id="total-investment-24-months" tabindex="-1">Total Investment (24 Months) <a class="header-anchor" href="#total-investment-24-months" aria-label="Permalink to &quot;Total Investment (24 Months)&quot;">​</a></h3><p><strong>Total:</strong> $2.4M-4.2M</p><ul><li>Salaries: $1.2M-2M</li><li>Tools/Infrastructure: $600K-1M</li><li>Training: $200K-400K</li><li>External Services (pentesting, bug bounty): $400K-800K</li></ul><hr><h2 id="common-pitfalls-solutions" tabindex="-1">Common Pitfalls &amp; Solutions <a class="header-anchor" href="#common-pitfalls-solutions" aria-label="Permalink to &quot;Common Pitfalls &amp; Solutions&quot;">​</a></h2><h3 id="pitfall-1-testing-after-development" tabindex="-1">Pitfall 1: Testing After Development <a class="header-anchor" href="#pitfall-1-testing-after-development" aria-label="Permalink to &quot;Pitfall 1: Testing After Development&quot;">​</a></h3><p><strong>Problem:</strong> Testing happens after development is &quot;done&quot; (waterfall approach)</p><p><strong>Consequences:</strong></p><ul><li>Bugs found late (expensive to fix)</li><li>Delays in releases (testing becomes bottleneck)</li><li>Poor test coverage (rushed testing)</li></ul><p><strong>Solution: Shift-Left Testing</strong></p><ul><li>Write tests before/during development (TDD/BDD)</li><li>Developers write unit tests (70% coverage)</li><li>QA writes E2E tests (10% coverage)</li><li>Tests run automatically in CI/CD</li></ul><h3 id="pitfall-2-100-e2e-tests-inverted-pyramid" tabindex="-1">Pitfall 2: 100% E2E Tests (Inverted Pyramid) <a class="header-anchor" href="#pitfall-2-100-e2e-tests-inverted-pyramid" aria-label="Permalink to &quot;Pitfall 2: 100% E2E Tests (Inverted Pyramid)&quot;">​</a></h3><p><strong>Problem:</strong> All tests are E2E (slow, brittle, expensive)</p><p><strong>Consequences:</strong></p><ul><li>Slow feedback (tests take hours to run)</li><li>Flaky tests (network issues, timing issues)</li><li>High maintenance cost (tests break often)</li></ul><p><strong>Solution: Test Pyramid</strong></p><ul><li>70% unit tests (fast, stable)</li><li>20% integration tests (medium speed)</li><li>10% E2E tests (slow, critical paths only)</li></ul><h3 id="pitfall-3-ignoring-accessibility" tabindex="-1">Pitfall 3: Ignoring Accessibility <a class="header-anchor" href="#pitfall-3-ignoring-accessibility" aria-label="Permalink to &quot;Pitfall 3: Ignoring Accessibility&quot;">​</a></h3><p><strong>Problem:</strong> Accessibility is an afterthought (or ignored completely)</p><p><strong>Consequences:</strong></p><ul><li>Legal risk (ADA lawsuits, EU fines)</li><li>Exclusion (millions of users cannot access services)</li><li>Reputation damage (public backlash)</li></ul><p><strong>Solution: Accessibility-First</strong></p><ul><li>WCAG 2.1 AA compliance from day one</li><li>Automated accessibility tests in CI/CD</li><li>Manual testing with screen readers</li><li>Real users with disabilities testing</li></ul><h3 id="pitfall-4-no-test-data-strategy" tabindex="-1">Pitfall 4: No Test Data Strategy <a class="header-anchor" href="#pitfall-4-no-test-data-strategy" aria-label="Permalink to &quot;Pitfall 4: No Test Data Strategy&quot;">​</a></h3><p><strong>Problem:</strong> Production data used in test environments</p><p><strong>Consequences:</strong></p><ul><li>PII exposure (data breaches, GDPR violations)</li><li>Brittle tests (data changes break tests)</li><li>Slow tests (large datasets)</li></ul><p><strong>Solution: Synthetic Data</strong></p><ul><li>Generate synthetic test data (Faker.js)</li><li>Anonymize production data (if needed)</li><li>Version test data (reproducible tests)</li><li>Separate test databases (Docker containers)</li></ul><h3 id="pitfall-5-manual-testing-bottleneck" tabindex="-1">Pitfall 5: Manual Testing Bottleneck <a class="header-anchor" href="#pitfall-5-manual-testing-bottleneck" aria-label="Permalink to &quot;Pitfall 5: Manual Testing Bottleneck&quot;">​</a></h3><p><strong>Problem:</strong> Manual regression testing before every release</p><p><strong>Consequences:</strong></p><ul><li>Slow releases (testing takes days/weeks)</li><li>QA team overloaded</li><li>Inconsistent testing (human error)</li></ul><p><strong>Solution: Automate 80%+</strong></p><ul><li>Automate repetitive tests (regression)</li><li>Manual testing for exploratory, usability</li><li>CI/CD runs tests automatically</li><li>Developers write tests (shift-left)</li></ul><h3 id="pitfall-6-no-quality-metrics" tabindex="-1">Pitfall 6: No Quality Metrics <a class="header-anchor" href="#pitfall-6-no-quality-metrics" aria-label="Permalink to &quot;Pitfall 6: No Quality Metrics&quot;">​</a></h3><p><strong>Problem:</strong> No visibility into test coverage, defect rates</p><p><strong>Consequences:</strong></p><ul><li>Unknown quality (are we improving?)</li><li>No accountability (who owns quality?)</li><li>Reactive instead of proactive</li></ul><p><strong>Solution: Quality Dashboards</strong></p><ul><li>Track code coverage (target 80%+)</li><li>Track defect escape rate (target &lt;5%)</li><li>Track test pass rate (target 95%+)</li><li>Track MTTD/MTTR (incident response)</li></ul><h3 id="pitfall-7-flaky-tests-ignored" tabindex="-1">Pitfall 7: Flaky Tests Ignored <a class="header-anchor" href="#pitfall-7-flaky-tests-ignored" aria-label="Permalink to &quot;Pitfall 7: Flaky Tests Ignored&quot;">​</a></h3><p><strong>Problem:</strong> Tests fail intermittently (network issues, timing)</p><p><strong>Consequences:</strong></p><ul><li>Lost trust (developers ignore failures)</li><li>Wasted time (re-running tests)</li><li>Hidden bugs (real failures masked)</li></ul><p><strong>Solution: Flaky Test Management</strong></p><ul><li>Quarantine flaky tests (don&#39;t block pipeline)</li><li>Fix flaky tests (root cause analysis)</li><li>Monitor flakiness (track failure rate)</li><li>Delete unfixable tests (better no test than flaky test)</li></ul><h3 id="pitfall-8-security-testing-afterthought" tabindex="-1">Pitfall 8: Security Testing Afterthought <a class="header-anchor" href="#pitfall-8-security-testing-afterthought" aria-label="Permalink to &quot;Pitfall 8: Security Testing Afterthought&quot;">​</a></h3><p><strong>Problem:</strong> Security testing happens before go-live (if at all)</p><p><strong>Consequences:</strong></p><ul><li>Vulnerabilities in production (data breaches)</li><li>Expensive fixes (rearchitecture needed)</li><li>Compliance violations (fines, audits)</li></ul><p><strong>Solution: Security Testing in CI/CD</strong></p><ul><li>SAST/DAST/SCA on every commit</li><li>Dependency scanning (Snyk, Dependabot)</li><li>Penetration testing quarterly</li><li>Bug bounty program (crowdsource security)</li></ul><hr><h2 id="conclusion" tabindex="-1">Conclusion <a class="header-anchor" href="#conclusion" aria-label="Permalink to &quot;Conclusion&quot;">​</a></h2><p>Testing is not optional for government digital services. It&#39;s a critical investment that prevents catastrophic failures, protects citizen data, and builds public trust.</p><p><strong>Key Takeaways:</strong></p><ol><li><strong>Shift-left testing:</strong> Test early and often (not after development)</li><li><strong>Test pyramid:</strong> 70% unit, 20% integration, 10% E2E</li><li><strong>Automate 80%+:</strong> Free up QA for exploratory, accessibility testing</li><li><strong>Security integrated:</strong> SAST/DAST/SCA in CI/CD, not bolted on at the end</li><li><strong>Accessibility mandatory:</strong> WCAG 2.1 AA compliance from day one</li><li><strong>Performance is a feature:</strong> Enforce performance budgets, load test quarterly</li><li><strong>Test in production:</strong> Feature flags, canary deployments, chaos engineering</li><li><strong>Quality metrics:</strong> Track coverage, defect rates, MTTD/MTTR</li></ol><p><strong>ROI:</strong></p><ul><li><strong>Investment:</strong> $2-5M over 5 years</li><li><strong>Prevented Costs:</strong> $20-50M (production failures, security breaches, lawsuits)</li><li><strong>ROI:</strong> 4-10x return on investment</li></ul><p><strong>Timeline:</strong></p><ul><li><strong>6 months:</strong> Foundation (unit + integration tests)</li><li><strong>12 months:</strong> Integration (E2E + security + accessibility)</li><li><strong>18 months:</strong> Maturity (performance + quality gates)</li><li><strong>24 months:</strong> Excellence (testing in production + chaos engineering)</li></ul><p><strong>Start Small, Scale Fast:</strong></p><p>You don&#39;t need to implement everything on day one. Start with:</p><ol><li>Unit tests (70% coverage)</li><li>CI/CD pipeline (automated testing)</li><li>Security scanning (SAST/DAST/SCA)</li></ol><p>Then expand to E2E, accessibility, performance, and chaos engineering.</p><p><strong>The Cost of Inaction:</strong></p><p>Every government that delays testing investment risks becoming the next Healthcare.gov (2013), Australian Census (2016), or Equifax (2017). The question is not &quot;Can we afford to invest in testing?&quot; but &quot;Can we afford not to?&quot;</p><hr><h2 id="appendix-templates-checklists" tabindex="-1">Appendix: Templates &amp; Checklists <a class="header-anchor" href="#appendix-templates-checklists" aria-label="Permalink to &quot;Appendix: Templates &amp; Checklists&quot;">​</a></h2><h3 id="test-strategy-template" tabindex="-1">Test Strategy Template <a class="header-anchor" href="#test-strategy-template" aria-label="Permalink to &quot;Test Strategy Template&quot;">​</a></h3><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;"># Test Strategy: [Service Name]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Scope</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Services in scope: [List services/APIs]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">User journeys in scope: [List critical journeys]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Out of scope: [List exclusions]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Test Levels</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Unit Tests: 70% (target 80% coverage)</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Integration Tests: 20% (API contracts, database)</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> E2E Tests: 10% (critical user journeys)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Test Types</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Functional: Yes</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Security: SAST/DAST/SCA + annual pentest</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Accessibility: WCAG 2.1 AA + manual testing</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Performance: Load testing quarterly</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Chaos: Annual disaster recovery test</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Tools</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Unit: Jest</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Integration: Postman</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> E2E: Playwright</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Security: SonarQube, OWASP ZAP, Snyk</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Accessibility: axe, WAVE, screen readers</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Performance: k6, Lighthouse</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Environments</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Dev: Local development</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Test: Automated testing</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Staging: Pre-production validation</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Production: Live services</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Entry/Exit Criteria</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Entry: Code review approved, unit tests pass</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Exit: All tests pass, code coverage &gt;80%, security scan clean</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Risks</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Risk 1: Tight deadline (mitigation: automate repetitive tests)</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Risk 2: Limited QA resources (mitigation: shift-left, developers write tests)</span></span></code></pre></div><h3 id="test-case-template" tabindex="-1">Test Case Template <a class="header-anchor" href="#test-case-template" aria-label="Permalink to &quot;Test Case Template&quot;">​</a></h3><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;"># Test Case: [</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">ID</span><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">] [</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">Name</span><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-light-font-weight:bold;--shiki-dark:#E1E4E8;--shiki-dark-font-weight:bold;">**Priority:**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> High/Medium/Low</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-light-font-weight:bold;--shiki-dark:#E1E4E8;--shiki-dark-font-weight:bold;">**Type:**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Functional/Security/Accessibility/Performance</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-light-font-weight:bold;--shiki-dark:#E1E4E8;--shiki-dark-font-weight:bold;">**Automation:**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Yes/No</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Preconditions</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> User is logged in</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Test data loaded</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Test Steps</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Navigate to passport application page</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Fill out form (first name, last name, DOB)</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">3.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Upload photo</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">4.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Click &quot;Submit&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Expected Results</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Application submitted successfully</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Confirmation number displayed (format: APP-XXXXXXXXXX)</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Email sent to user</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Test Data</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> First Name: Jane</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Last Name: Smith</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DOB: 1985-06-15</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Citizenship Number: 123456789</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Photo: test-photo.jpg</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Actual Results</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Fill in during execution]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Status</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">Pass/Fail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><h3 id="bug-report-template" tabindex="-1">Bug Report Template <a class="header-anchor" href="#bug-report-template" aria-label="Permalink to &quot;Bug Report Template&quot;">​</a></h3><div class="language-markdown vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">markdown</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;"># Bug Report: [</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">ID</span><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">] [</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">Title</span><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-light-font-weight:bold;--shiki-dark:#E1E4E8;--shiki-dark-font-weight:bold;">**Severity:**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Critical/High/Medium/Low</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-light-font-weight:bold;--shiki-dark:#E1E4E8;--shiki-dark-font-weight:bold;">**Priority:**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> P0/P1/P2/P3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-light-font-weight:bold;--shiki-dark:#E1E4E8;--shiki-dark-font-weight:bold;">**Status:**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Open/In Progress/Resolved/Closed</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-light-font-weight:bold;--shiki-dark:#E1E4E8;--shiki-dark-font-weight:bold;">**Reported By:**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-light-font-weight:bold;--shiki-dark:#E1E4E8;--shiki-dark-font-weight:bold;">**Assigned To:**</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-light-text-decoration:underline;--shiki-dark:#DBEDFF;--shiki-dark-text-decoration:underline;">Name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Environment</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Environment: Staging</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> OS: macOS 13</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Browser: Chrome 120</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> URL: https://staging.services.gov.example/passport</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Steps to Reproduce</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">1.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Navigate to passport application page</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">2.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Fill out form with invalid DOB (future date: 2030-01-01)</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">3.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Click &quot;Submit&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Expected Behavior</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Error message displayed: &quot;Date of birth cannot be in the future&quot;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Form not submitted</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Actual Behavior</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Form submitted successfully</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> No error message</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Impact</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Users can submit invalid applications</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Downstream processing errors</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Data quality issues</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Screenshots</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Attach screenshots]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Logs</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[Attach relevant logs]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-light-font-weight:bold;--shiki-dark:#79B8FF;--shiki-dark-font-weight:bold;">## Suggested Fix</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Add validation: dateOfBirth &lt;= today</span></span></code></pre></div><hr><p><strong>Document Version:</strong> 1.0 <strong>Last Updated:</strong> 2025-11-12 <strong>Next Review:</strong> 2026-01-12 <strong>Owner:</strong> Chief Quality Officer / VP Engineering <strong>Contact:</strong> quality@gov.example</p>`,541)])])}const E=i(e,[["render",l]]);export{g as __pageData,E as default};
